var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n,i,r,s,o,a,u,c,d,l,h,f,v,p,E,g,m={};function y(){if(i)return n;i=1;var e=function(t){return t&&t.Math===Math&&t};return n=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||e("object"==typeof n&&n)||function(){return this}()||Function("return this")()}function A(){return s?r:(s=1,r=function(t){try{return!!t()}catch(t){return!0}})}function S(){return a?o:(a=1,o=!A()((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})))}function R(){if(c)return u;c=1;var t=S(),e=Function.prototype,n=e.apply,i=e.call;return u="object"==typeof Reflect&&Reflect.apply||(t?i.bind(n):function(){return i.apply(n,arguments)}),u}function I(){if(l)return d;l=1;var t=S(),e=Function.prototype,n=e.call,i=t&&e.bind.bind(n,n);return d=t?i:function(t){return function(){return n.apply(t,arguments)}},d}function D(){if(f)return h;f=1;var t=I(),e=t({}.toString),n=t("".slice);return h=function(t){return n(e(t),8,-1)}}function T(){if(p)return v;p=1;var t=D(),e=I();return v=function(n){if("Function"===t(n))return e(n)}}function k(){if(g)return E;g=1;var t="object"==typeof document&&document.all;return E=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(t){return"function"==typeof t}}var b,_,w,L,O={};function C(){return _?b:(_=1,b=!A()((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})))}function M(){if(L)return w;L=1;var t=S(),e=Function.prototype.call;return w=t?e.bind(e):function(){return e.apply(e,arguments)},w}var P,N,U,F,x,V,H,j,W,B,G,q,K,$,z,Q,X,Y,J,Z,tt,et,nt,it,rt,st,ot,at,ut,ct,dt,lt,ht,ft,vt,pt,Et,gt={};function mt(){if(P)return gt;P=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,n=e&&!t.call({1:2},1);return gt.f=n?function(t){var n=e(this,t);return!!n&&n.enumerable}:t,gt}function yt(){return U?N:(U=1,N=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}})}function At(){if(x)return F;x=1;var t=I(),e=A(),n=D(),i=Object,r=t("".split);return F=e((function(){return!i("z").propertyIsEnumerable(0)}))?function(t){return"String"===n(t)?r(t,""):i(t)}:i}function St(){return H?V:(H=1,V=function(t){return null==t})}function Rt(){if(W)return j;W=1;var t=St(),e=TypeError;return j=function(n){if(t(n))throw new e("Can't call method on "+n);return n}}function It(){if(G)return B;G=1;var t=At(),e=Rt();return B=function(n){return t(e(n))}}function Dt(){if(K)return q;K=1;var t=k();return q=function(e){return"object"==typeof e?null!==e:t(e)}}function Tt(){return z?$:(z=1,$={})}function kt(){if(X)return Q;X=1;var t=Tt(),e=y(),n=k(),i=function(t){return n(t)?t:void 0};return Q=function(n,r){return arguments.length<2?i(t[n])||i(e[n]):t[n]&&t[n][r]||e[n]&&e[n][r]},Q}function bt(){return J?Y:(J=1,Y=I()({}.isPrototypeOf))}function _t(){if(tt)return Z;tt=1;var t=y().navigator,e=t&&t.userAgent;return Z=e?String(e):""}function wt(){if(nt)return et;nt=1;var t,e,n=y(),i=_t(),r=n.process,s=n.Deno,o=r&&r.versions||s&&s.version,a=o&&o.v8;return a&&(e=(t=a.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!e&&i&&(!(t=i.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=i.match(/Chrome\/(\d+)/))&&(e=+t[1]),et=e}function Lt(){if(rt)return it;rt=1;var t=wt(),e=A(),n=y().String;return it=!!Object.getOwnPropertySymbols&&!e((function(){var e=Symbol("symbol detection");return!n(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&t&&t<41})),it}function Ot(){return ot?st:(ot=1,st=Lt()&&!Symbol.sham&&"symbol"==typeof Symbol.iterator)}function Ct(){if(ut)return at;ut=1;var t=kt(),e=k(),n=bt(),i=Object;return at=Ot()?function(t){return"symbol"==typeof t}:function(r){var s=t("Symbol");return e(s)&&n(s.prototype,i(r))}}function Mt(){if(dt)return ct;dt=1;var t=String;return ct=function(e){try{return t(e)}catch(t){return"Object"}}}function Pt(){if(ht)return lt;ht=1;var t=k(),e=Mt(),n=TypeError;return lt=function(i){if(t(i))return i;throw new n(e(i)+" is not a function")}}function Nt(){if(vt)return ft;vt=1;var t=Pt(),e=St();return ft=function(n,i){var r=n[i];return e(r)?void 0:t(r)}}function Ut(){if(Et)return pt;Et=1;var t=M(),e=k(),n=Dt(),i=TypeError;return pt=function(r,s){var o,a;if("string"===s&&e(o=r.toString)&&!n(a=t(o,r)))return a;if(e(o=r.valueOf)&&!n(a=t(o,r)))return a;if("string"!==s&&e(o=r.toString)&&!n(a=t(o,r)))return a;throw new i("Can't convert object to primitive value")}}var Ft,xt,Vt,Ht,jt,Wt,Bt,Gt,qt,Kt,$t,zt,Qt,Xt,Yt,Jt,Zt,te,ee,ne,ie,re,se,oe,ae,ue,ce,de,le={exports:{}};function he(){return xt?Ft:(xt=1,Ft=!0)}function fe(){if(Ht)return Vt;Ht=1;var t=y(),e=Object.defineProperty;return Vt=function(n,i){try{e(t,n,{value:i,configurable:!0,writable:!0})}catch(e){t[n]=i}return i}}function ve(){if(jt)return le.exports;jt=1;var t=he(),e=y(),n=fe(),i="__core-js_shared__",r=le.exports=e[i]||n(i,{});return(r.versions||(r.versions=[])).push({version:"3.41.0",mode:t?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"}),le.exports}function pe(){if(Bt)return Wt;Bt=1;var t=ve();return Wt=function(e,n){return t[e]||(t[e]=n||{})}}function Ee(){if(qt)return Gt;qt=1;var t=Rt(),e=Object;return Gt=function(n){return e(t(n))}}function ge(){if($t)return Kt;$t=1;var t=I(),e=Ee(),n=t({}.hasOwnProperty);return Kt=Object.hasOwn||function(t,i){return n(e(t),i)}}function me(){if(Qt)return zt;Qt=1;var t=I(),e=0,n=Math.random(),i=t(1..toString);return zt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++e+n,36)}}function ye(){if(Yt)return Xt;Yt=1;var t=y(),e=pe(),n=ge(),i=me(),r=Lt(),s=Ot(),o=t.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||i;return Xt=function(t){return n(a,t)||(a[t]=r&&n(o,t)?o[t]:u("Symbol."+t)),a[t]}}function Ae(){if(Zt)return Jt;Zt=1;var t=M(),e=Dt(),n=Ct(),i=Nt(),r=Ut(),s=TypeError,o=ye()("toPrimitive");return Jt=function(a,u){if(!e(a)||n(a))return a;var c,d=i(a,o);if(d){if(void 0===u&&(u="default"),c=t(d,a,u),!e(c)||n(c))return c;throw new s("Can't convert object to primitive value")}return void 0===u&&(u="number"),r(a,u)}}function Se(){if(ee)return te;ee=1;var t=Ae(),e=Ct();return te=function(n){var i=t(n,"string");return e(i)?i:i+""}}function Re(){if(ie)return ne;ie=1;var t=y(),e=Dt(),n=t.document,i=e(n)&&e(n.createElement);return ne=function(t){return i?n.createElement(t):{}}}function Ie(){if(se)return re;se=1;var t=C(),e=A(),n=Re();return re=!t&&!e((function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))}function De(){if(oe)return O;oe=1;var t=C(),e=M(),n=mt(),i=yt(),r=It(),s=Se(),o=ge(),a=Ie(),u=Object.getOwnPropertyDescriptor;return O.f=t?u:function(t,c){if(t=r(t),c=s(c),a)try{return u(t,c)}catch(t){}if(o(t,c))return i(!e(n.f,t,c),t[c])},O}function Te(){if(ue)return ae;ue=1;var t=A(),e=k(),n=/#|\.prototype\./,i=function(n,i){var u=s[r(n)];return u===a||u!==o&&(e(i)?t(i):!!i)},r=i.normalize=function(t){return String(t).replace(n,".").toLowerCase()},s=i.data={},o=i.NATIVE="N",a=i.POLYFILL="P";return ae=i}function ke(){if(de)return ce;de=1;var t=T(),e=Pt(),n=S(),i=t(t.bind);return ce=function(t,r){return e(t),void 0===r?t:n?i(t,r):function(){return t.apply(r,arguments)}},ce}var be,_e,we,Le,Oe,Ce,Me,Pe,Ne,Ue,Fe,xe,Ve,He,je,We,Be,Ge,qe,Ke,$e,ze,Qe,Xe,Ye,Je,Ze,tn,en={};function nn(){return _e?be:(_e=1,be=C()&&A()((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})))}function rn(){if(Le)return we;Le=1;var t=Dt(),e=String,n=TypeError;return we=function(i){if(t(i))return i;throw new n(e(i)+" is not an object")}}function sn(){if(Oe)return en;Oe=1;var t=C(),e=Ie(),n=nn(),i=rn(),r=Se(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",c="configurable",d="writable";return en.f=t?n?function(t,e,n){if(i(t),e=r(e),i(n),"function"==typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var s=a(t,e);s&&s[d]&&(t[e]=n.value,n={configurable:c in n?n[c]:s[c],enumerable:u in n?n[u]:s[u],writable:!1})}return o(t,e,n)}:o:function(t,n,a){if(i(t),n=r(n),i(a),e)try{return o(t,n,a)}catch(t){}if("get"in a||"set"in a)throw new s("Accessors not supported");return"value"in a&&(t[n]=a.value),t},en}function on(){if(Me)return Ce;Me=1;var t=C(),e=sn(),n=yt();return Ce=t?function(t,i,r){return e.f(t,i,n(1,r))}:function(t,e,n){return t[e]=n,t}}function an(){if(Ne)return Pe;Ne=1;var t=y(),e=R(),n=T(),i=k(),r=De().f,s=Te(),o=Tt(),a=ke(),u=on(),c=ge(),d=function(t){var n=function(i,r,s){if(this instanceof n){switch(arguments.length){case 0:return new t;case 1:return new t(i);case 2:return new t(i,r)}return new t(i,r,s)}return e(t,this,arguments)};return n.prototype=t.prototype,n};return Pe=function(e,l){var h,f,v,p,E,g,m,y,A,S=e.target,R=e.global,I=e.stat,D=e.proto,T=R?t:I?t[S]:t[S]&&t[S].prototype,k=R?o:o[S]||u(o,S,{})[S],b=k.prototype;for(p in l)f=!(h=s(R?p:S+(I?".":"#")+p,e.forced))&&T&&c(T,p),g=k[p],f&&(m=e.dontCallGetSet?(A=r(T,p))&&A.value:T[p]),E=f&&m?m:l[p],(h||D||typeof g!=typeof E)&&(y=e.bind&&f?a(E,t):e.wrap&&f?d(E):D&&i(E)?n(E):E,(e.sham||E&&E.sham||g&&g.sham)&&u(y,"sham",!0),u(k,p,y),D&&(c(o,v=S+"Prototype")||u(o,v,{}),u(o[v],p,E),e.real&&b&&(h||!b[p])&&u(b,p,E)))}}function un(){if(Fe)return Ue;Fe=1;var t=ge();return Ue=function(e){return void 0!==e&&(t(e,"value")||t(e,"writable"))}}function cn(){if(Ve)return xe;Ve=1;var t=pe(),e=me(),n=t("keys");return xe=function(t){return n[t]||(n[t]=e(t))}}function dn(){return je?He:(je=1,He=!A()((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})))}function ln(){if(Be)return We;Be=1;var t=ge(),e=k(),n=Ee(),i=cn(),r=dn(),s=i("IE_PROTO"),o=Object,a=o.prototype;return We=r?o.getPrototypeOf:function(i){var r=n(i);if(t(r,s))return r[s];var u=r.constructor;return e(u)&&r instanceof u?u.prototype:r instanceof o?a:null}}function hn(){return Ke?qe:(Ke=1,function(){if(Ge)return m;Ge=1;var t=an(),e=M(),n=Dt(),i=rn(),r=un(),s=De(),o=ln();t({target:"Reflect",stat:!0},{get:function t(a,u){var c,d,l=arguments.length<3?a:arguments[2];return i(a)===l?a[u]:(c=s.f(a,u))?r(c)?c.value:void 0===c.get?void 0:e(c.get,l):n(d=o(a))?t(d,u,l):void 0}})}(),qe=Tt().Reflect.get)}function fn(){return ze?$e:(ze=1,$e=hn())}function vn(){return Xe?Qe:(Xe=1,Qe=fn())}function pn(){return Je?Ye:(Je=1,Ye=vn())}function En(){return tn?Ze:(tn=1,Ze=pn())}var gn,mn,yn,An,Sn,Rn,In,Dn,Tn,kn,bn,_n,wn,Ln,On,Cn,Mn,Pn,Nn,Un=e(En()),Fn={};function xn(){return mn?gn:(mn=1,gn=I()([].slice))}function Vn(){if(An)return yn;An=1;var t=I(),e=Pt(),n=Dt(),i=ge(),r=xn(),s=S(),o=Function,a=t([].concat),u=t([].join),c={};return yn=s?o.bind:function(t){var s=e(this),d=s.prototype,l=r(arguments,1),h=function(){var e=a(l,r(arguments));return this instanceof h?function(t,e,n){if(!i(c,e)){for(var r=[],s=0;s<e;s++)r[s]="a["+s+"]";c[e]=o("C,a","return new C("+u(r,",")+")")}return c[e](t,n)}(s,e.length,e):s.apply(t,e)};return n(d)&&(h.prototype=d),h},yn}function Hn(){if(In)return Rn;In=1;var t=y(),e=Tt();return Rn=function(n,i){var r=e[n+"Prototype"],s=r&&r[i];if(s)return s;var o=t[n],a=o&&o.prototype;return a&&a[i]}}function jn(){return Tn?Dn:(Tn=1,function(){if(Sn)return Fn;Sn=1;var t=an(),e=Vn();t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e})}(),Dn=Hn()("Function","bind"))}function Wn(){if(bn)return kn;bn=1;var t=bt(),e=jn(),n=Function.prototype;return kn=function(i){var r=i.bind;return i===n||t(n,i)&&r===n.bind?e:r}}function Bn(){return wn?_n:(wn=1,_n=Wn())}function Gn(){return On?Ln:(On=1,Ln=Bn())}function qn(){return Mn?Cn:(Mn=1,Cn=Gn())}function Kn(){return Nn?Pn:(Nn=1,Pn=qn())}var $n,zn,Qn,Xn,Yn,Jn,Zn,ti,ei,ni,ii=e(Kn()),ri={exports:{}},si={};function oi(){if(zn)return ri.exports;zn=1,function(){if($n)return si;$n=1;var t=an(),e=A(),n=It(),i=De().f,r=C();t({target:"Object",stat:!0,forced:!r||e((function(){i(1)})),sham:!r},{getOwnPropertyDescriptor:function(t,e){return i(n(t),e)}})}();var t=Tt().Object,e=ri.exports=function(e,n){return t.getOwnPropertyDescriptor(e,n)};return t.getOwnPropertyDescriptor.sham&&(e.sham=!0),ri.exports}function ai(){return Xn?Qn:(Xn=1,Qn=oi())}function ui(){return Jn?Yn:(Jn=1,Yn=ai())}function ci(){return ti?Zn:(ti=1,Zn=ui())}function di(){return ni?ei:(ni=1,ei=ci())}var li,hi,fi,vi,pi,Ei,gi,mi,yi,Ai,Si,Ri,Ii,Di,Ti,ki,bi,_i,wi,Li=e(di());function Oi(){if(hi)return li;hi=1;var t=I(),e=Pt();return li=function(n,i,r){try{return t(e(Object.getOwnPropertyDescriptor(n,i)[r]))}catch(t){}}}function Ci(){if(vi)return fi;vi=1;var t=Dt();return fi=function(e){return t(e)||null===e}}function Mi(){if(Ei)return pi;Ei=1;var t=Ci(),e=String,n=TypeError;return pi=function(i){if(t(i))return i;throw new n("Can't set "+e(i)+" as a prototype")}}function Pi(){if(mi)return gi;mi=1;var t=Oi(),e=Dt(),n=Rt(),i=Mi();return gi=Object.setPrototypeOf||("__proto__"in{}?function(){var r,s=!1,o={};try{(r=t(Object.prototype,"__proto__","set"))(o,[]),s=o instanceof Array}catch(t){}return function(t,o){return n(t),i(o),e(t)?(s?r(t,o):t.__proto__=o,t):t}}():void 0)}function Ni(){return Si?Ai:(Si=1,yi||(yi=1,an()({target:"Object",stat:!0},{setPrototypeOf:Pi()})),Ai=Tt().Object.setPrototypeOf)}function Ui(){return Ii?Ri:(Ii=1,Ri=Ni())}function Fi(){return Ti?Di:(Ti=1,Di=Ui())}function xi(){return bi?ki:(bi=1,ki=Fi())}function Vi(){return wi?_i:(wi=1,_i=xi())}var Hi,ji,Wi,Bi,Gi,qi,Ki,$i,zi,Qi,Xi,Yi=e(Vi()),Ji={};function Zi(){return Wi?ji:(Wi=1,function(){if(Hi)return Ji;Hi=1;var t=an(),e=A(),n=Ee(),i=ln(),r=dn();t({target:"Object",stat:!0,forced:e((function(){i(1)})),sham:!r},{getPrototypeOf:function(t){return i(n(t))}})}(),ji=Tt().Object.getPrototypeOf)}function tr(){return Gi?Bi:(Gi=1,Bi=Zi())}function er(){return Ki?qi:(Ki=1,qi=tr())}function nr(){return zi?$i:(zi=1,$i=er())}function ir(){return Xi?Qi:(Xi=1,Qi=nr())}var rr=e(ir());function sr(t){var e;return sr=Yi?ii(e=rr).call(e):function(t){return t.__proto__||rr(t)},sr(t)}function or(){var t;return or="undefined"!=typeof Reflect&&Un?ii(t=Un).call(t):function(t,e,n){var i=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=sr(t)););return t}(t,e);if(i){var r=Li(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},or.apply(null,arguments)}var ar,ur,cr,dr,lr,hr,fr,vr,pr,Er,gr={exports:{}},mr={};function yr(){if(ar)return mr;ar=1;var t=an(),e=C(),n=sn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==n,sham:!e},{defineProperty:n}),mr}function Ar(){if(ur)return gr.exports;ur=1,yr();var t=Tt().Object,e=gr.exports=function(e,n,i){return t.defineProperty(e,n,i)};return t.defineProperty.sham&&(e.sham=!0),gr.exports}function Sr(){return dr?cr:(dr=1,cr=Ar())}function Rr(){return hr?lr:(hr=1,lr=Sr())}function Ir(){return vr?fr:(vr=1,fr=Rr())}function Dr(){return Er?pr:(Er=1,pr=Ir())}var Tr,kr,br,_r,wr,Lr,Or,Cr,Mr,Pr,Nr,Ur,Fr,xr,Vr,Hr,jr,Wr,Br,Gr,qr,Kr,$r,zr,Qr,Xr,Yr,Jr,Zr,ts=e(Dr()),es={};function ns(){if(kr)return Tr;kr=1;var t=D();return Tr=Array.isArray||function(e){return"Array"===t(e)}}function is(){if(_r)return br;_r=1;var t=Math.ceil,e=Math.floor;return br=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)}}function rs(){if(Lr)return wr;Lr=1;var t=is();return wr=function(e){var n=+e;return n!=n||0===n?0:t(n)}}function ss(){if(Cr)return Or;Cr=1;var t=rs(),e=Math.min;return Or=function(n){var i=t(n);return i>0?e(i,9007199254740991):0}}function os(){if(Pr)return Mr;Pr=1;var t=ss();return Mr=function(e){return t(e.length)}}function as(){if(Ur)return Nr;Ur=1;var t=TypeError;return Nr=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}}function us(){if(xr)return Fr;xr=1;var t=C(),e=sn(),n=yt();return Fr=function(i,r,s){t?e.f(i,r,n(0,s)):i[r]=s}}function cs(){if(Hr)return Vr;Hr=1;var t={};return t[ye()("toStringTag")]="z",Vr="[object z]"===String(t)}function ds(){if(Wr)return jr;Wr=1;var t=cs(),e=k(),n=D(),i=ye()("toStringTag"),r=Object,s="Arguments"===n(function(){return arguments}());return jr=t?n:function(t){var o,a,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(a=function(t,e){try{return t[e]}catch(t){}}(o=r(t),i))?a:s?n(o):"Object"===(u=n(o))&&e(o.callee)?"Arguments":u}}function ls(){if(Gr)return Br;Gr=1;var t=I(),e=k(),n=ve(),i=t(Function.toString);return e(n.inspectSource)||(n.inspectSource=function(t){return i(t)}),Br=n.inspectSource}function hs(){if(Kr)return qr;Kr=1;var t=I(),e=A(),n=k(),i=ds(),r=kt(),s=ls(),o=function(){},a=r("Reflect","construct"),u=/^\s*(?:class|function)\b/,c=t(u.exec),d=!u.test(o),l=function(t){if(!n(t))return!1;try{return a(o,[],t),!0}catch(t){return!1}},h=function(t){if(!n(t))return!1;switch(i(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(u,s(t))}catch(t){return!0}};return h.sham=!0,qr=!a||e((function(){var t;return l(l.call)||!l(Object)||!l((function(){t=!0}))||t}))?h:l}function fs(){if(zr)return $r;zr=1;var t=ns(),e=hs(),n=Dt(),i=ye()("species"),r=Array;return $r=function(s){var o;return t(s)&&(o=s.constructor,(e(o)&&(o===r||t(o.prototype))||n(o)&&null===(o=o[i]))&&(o=void 0)),void 0===o?r:o}}function vs(){if(Xr)return Qr;Xr=1;var t=fs();return Qr=function(e,n){return new(t(e))(0===n?0:n)}}function ps(){if(Jr)return Yr;Jr=1;var t=A(),e=ye(),n=wt(),i=e("species");return Yr=function(e){return n>=51||!t((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}}var Es,gs,ms={},ys={};function As(){if(gs)return Es;gs=1;var t=ds(),e=String;return Es=function(n){if("Symbol"===t(n))throw new TypeError("Cannot convert a Symbol value to a string");return e(n)}}var Ss,Rs,Is,Ds,Ts,ks,bs,_s,ws,Ls,Os,Cs,Ms,Ps,Ns,Us,Fs,xs={};function Vs(){if(Rs)return Ss;Rs=1;var t=rs(),e=Math.max,n=Math.min;return Ss=function(i,r){var s=t(i);return s<0?e(s+r,0):n(s,r)}}function Hs(){if(Ds)return Is;Ds=1;var t=It(),e=Vs(),n=os(),i=function(i){return function(r,s,o){var a=t(r),u=n(a);if(0===u)return!i&&-1;var c,d=e(o,u);if(i&&s!=s){for(;u>d;)if((c=a[d++])!=c)return!0}else for(;u>d;d++)if((i||d in a)&&a[d]===s)return i||d||0;return!i&&-1}};return Is={includes:i(!0),indexOf:i(!1)}}function js(){return ks?Ts:(ks=1,Ts={})}function Ws(){if(_s)return bs;_s=1;var t=I(),e=ge(),n=It(),i=Hs().indexOf,r=js(),s=t([].push);return bs=function(t,o){var a,u=n(t),c=0,d=[];for(a in u)!e(r,a)&&e(u,a)&&s(d,a);for(;o.length>c;)e(u,a=o[c++])&&(~i(d,a)||s(d,a));return d}}function Bs(){return Ls?ws:(Ls=1,ws=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function Gs(){if(Cs)return Os;Cs=1;var t=Ws(),e=Bs();return Os=Object.keys||function(n){return t(n,e)}}function qs(){if(Ms)return xs;Ms=1;var t=C(),e=nn(),n=sn(),i=rn(),r=It(),s=Gs();return xs.f=t&&!e?Object.defineProperties:function(t,e){i(t);for(var o,a=r(e),u=s(e),c=u.length,d=0;c>d;)n.f(t,o=u[d++],a[o]);return t},xs}function Ks(){return Ns?Ps:(Ns=1,Ps=kt()("document","documentElement"))}function $s(){if(Fs)return Us;Fs=1;var t,e=rn(),n=qs(),i=Bs(),r=js(),s=Ks(),o=Re(),a="prototype",u="script",c=cn()("IE_PROTO"),d=function(){},l=function(t){return"<"+u+">"+t+"</"+u+">"},h=function(t){t.write(l("")),t.close();var e=t.parentWindow.Object;return t=null,e},f=function(){try{t=new ActiveXObject("htmlfile")}catch(t){}var e,n,r;f="undefined"!=typeof document?document.domain&&t?h(t):(n=o("iframe"),r="java"+u+":",n.style.display="none",s.appendChild(n),n.src=String(r),(e=n.contentWindow.document).open(),e.write(l("document.F=Object")),e.close(),e.F):h(t);for(var c=i.length;c--;)delete f[a][i[c]];return f()};return r[c]=!0,Us=Object.create||function(t,i){var r;return null!==t?(d[a]=e(t),r=new d,d[a]=null,r[c]=t):r=f(),void 0===i?r:n.f(r,i)}}var zs,Qs={};function Xs(){if(zs)return Qs;zs=1;var t=Ws(),e=Bs().concat("length","prototype");return Qs.f=Object.getOwnPropertyNames||function(n){return t(n,e)},Qs}var Ys,Js={};function Zs(){if(Ys)return Js;Ys=1;var t=D(),e=It(),n=Xs().f,i=xn(),r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return Js.f=function(s){return r&&"Window"===t(s)?function(t){try{return n(t)}catch(t){return i(r)}}(s):n(e(s))},Js}var to,eo,no,io,ro,so={};function oo(){return to||(to=1,so.f=Object.getOwnPropertySymbols),so}function ao(){if(no)return eo;no=1;var t=on();return eo=function(e,n,i,r){return r&&r.enumerable?e[n]=i:t(e,n,i),e}}function uo(){if(ro)return io;ro=1;var t=sn();return io=function(e,n,i){return t.f(e,n,i)}}var co,lo,ho,fo,vo,po,Eo,go,mo,yo,Ao,So,Ro,Io,Do,To,ko={};function bo(){if(co)return ko;co=1;var t=ye();return ko.f=t,ko}function _o(){if(ho)return lo;ho=1;var t=Tt(),e=ge(),n=bo(),i=sn().f;return lo=function(r){var s=t.Symbol||(t.Symbol={});e(s,r)||i(s,r,{value:n.f(r)})}}function wo(){if(vo)return fo;vo=1;var t=M(),e=kt(),n=ye(),i=ao();return fo=function(){var r=e("Symbol"),s=r&&r.prototype,o=s&&s.valueOf,a=n("toPrimitive");s&&!s[a]&&i(s,a,(function(e){return t(o,this)}),{arity:1})}}function Lo(){if(Eo)return po;Eo=1;var t=cs(),e=ds();return po=t?{}.toString:function(){return"[object "+e(this)+"]"}}function Oo(){if(mo)return go;mo=1;var t=cs(),e=sn().f,n=on(),i=ge(),r=Lo(),s=ye()("toStringTag");return go=function(o,a,u,c){var d=u?o:o&&o.prototype;d&&(i(d,s)||e(d,s,{configurable:!0,value:a}),c&&!t&&n(d,"toString",r))}}function Co(){if(Ao)return yo;Ao=1;var t=y(),e=k(),n=t.WeakMap;return yo=e(n)&&/native code/.test(String(n))}function Mo(){if(Ro)return So;Ro=1;var t,e,n,i=Co(),r=y(),s=Dt(),o=on(),a=ge(),u=ve(),c=cn(),d=js(),l="Object already initialized",h=r.TypeError,f=r.WeakMap;if(i||u.state){var v=u.state||(u.state=new f);v.get=v.get,v.has=v.has,v.set=v.set,t=function(t,e){if(v.has(t))throw new h(l);return e.facade=t,v.set(t,e),e},e=function(t){return v.get(t)||{}},n=function(t){return v.has(t)}}else{var p=c("state");d[p]=!0,t=function(t,e){if(a(t,p))throw new h(l);return e.facade=t,o(t,p,e),e},e=function(t){return a(t,p)?t[p]:{}},n=function(t){return a(t,p)}}return So={set:t,get:e,has:n,enforce:function(i){return n(i)?e(i):t(i,{})},getterFor:function(t){return function(n){var i;if(!s(n)||(i=e(n)).type!==t)throw new h("Incompatible receiver, "+t+" required");return i}}}}function Po(){if(Do)return Io;Do=1;var t=ke(),e=I(),n=At(),i=Ee(),r=os(),s=vs(),o=e([].push),a=function(e){var a=1===e,u=2===e,c=3===e,d=4===e,l=6===e,h=7===e,f=5===e||l;return function(v,p,E,g){for(var m,y,A=i(v),S=n(A),R=r(S),I=t(p,E),D=0,T=g||s,k=a?T(v,R):u||h?T(v,0):void 0;R>D;D++)if((f||D in S)&&(y=I(m=S[D],D,A),e))if(a)k[D]=y;else if(y)switch(e){case 3:return!0;case 5:return m;case 6:return D;case 2:o(k,m)}else switch(e){case 4:return!1;case 7:o(k,m)}return l?-1:c||d?d:k}};return Io={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)}}var No,Uo,Fo,xo={};function Vo(){return Uo?No:(Uo=1,No=Lt()&&!!Symbol.for&&!!Symbol.keyFor)}var Ho,jo={};var Wo,Bo,Go,qo={};function Ko(){if(Bo)return Wo;Bo=1;var t=I(),e=ns(),n=k(),i=D(),r=As(),s=t([].push);return Wo=function(t){if(n(t))return t;if(e(t)){for(var o=t.length,a=[],u=0;u<o;u++){var c=t[u];"string"==typeof c?s(a,c):"number"!=typeof c&&"Number"!==i(c)&&"String"!==i(c)||s(a,r(c))}var d=a.length,l=!0;return function(t,n){if(l)return l=!1,n;if(e(this))return n;for(var i=0;i<d;i++)if(a[i]===t)return n}}}}var $o,zo,Qo={};function Xo(){return zo||(zo=1,function(){if(To)return ys;To=1;var t=an(),e=y(),n=M(),i=I(),r=he(),s=C(),o=Lt(),a=A(),u=ge(),c=bt(),d=rn(),l=It(),h=Se(),f=As(),v=yt(),p=$s(),E=Gs(),g=Xs(),m=Zs(),S=oo(),R=De(),D=sn(),T=qs(),k=mt(),b=ao(),_=uo(),w=pe(),L=cn(),O=js(),P=me(),N=ye(),U=bo(),F=_o(),x=wo(),V=Oo(),H=Mo(),j=Po().forEach,W=L("hidden"),B="Symbol",G="prototype",q=H.set,K=H.getterFor(B),$=Object[G],z=e.Symbol,Q=z&&z[G],X=e.RangeError,Y=e.TypeError,J=e.QObject,Z=R.f,tt=D.f,et=m.f,nt=k.f,it=i([].push),rt=w("symbols"),st=w("op-symbols"),ot=w("wks"),at=!J||!J[G]||!J[G].findChild,ut=function(t,e,n){var i=Z($,e);i&&delete $[e],tt(t,e,n),i&&t!==$&&tt($,e,i)},ct=s&&a((function(){return 7!==p(tt({},"a",{get:function(){return tt(this,"a",{value:7}).a}})).a}))?ut:tt,dt=function(t,e){var n=rt[t]=p(Q);return q(n,{type:B,tag:t,description:e}),s||(n.description=e),n},lt=function(t,e,n){t===$&&lt(st,e,n),d(t);var i=h(e);return d(n),u(rt,i)?(n.enumerable?(u(t,W)&&t[W][i]&&(t[W][i]=!1),n=p(n,{enumerable:v(0,!1)})):(u(t,W)||tt(t,W,v(1,p(null))),t[W][i]=!0),ct(t,i,n)):tt(t,i,n)},ht=function(t,e){d(t);var i=l(e),r=E(i).concat(Et(i));return j(r,(function(e){s&&!n(ft,i,e)||lt(t,e,i[e])})),t},ft=function(t){var e=h(t),i=n(nt,this,e);return!(this===$&&u(rt,e)&&!u(st,e))&&(!(i||!u(this,e)||!u(rt,e)||u(this,W)&&this[W][e])||i)},vt=function(t,e){var n=l(t),i=h(e);if(n!==$||!u(rt,i)||u(st,i)){var r=Z(n,i);return!r||!u(rt,i)||u(n,W)&&n[W][i]||(r.enumerable=!0),r}},pt=function(t){var e=et(l(t)),n=[];return j(e,(function(t){u(rt,t)||u(O,t)||it(n,t)})),n},Et=function(t){var e=t===$,n=et(e?st:l(t)),i=[];return j(n,(function(t){!u(rt,t)||e&&!u($,t)||it(i,rt[t])})),i};o||(z=function(){if(c(Q,this))throw new Y("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?f(arguments[0]):void 0,i=P(t),r=function(t){var s=void 0===this?e:this;s===$&&n(r,st,t),u(s,W)&&u(s[W],i)&&(s[W][i]=!1);var o=v(1,t);try{ct(s,i,o)}catch(t){if(!(t instanceof X))throw t;ut(s,i,o)}};return s&&at&&ct($,i,{configurable:!0,set:r}),dt(i,t)},b(Q=z[G],"toString",(function(){return K(this).tag})),b(z,"withoutSetter",(function(t){return dt(P(t),t)})),k.f=ft,D.f=lt,T.f=ht,R.f=vt,g.f=m.f=pt,S.f=Et,U.f=function(t){return dt(N(t),t)},s&&(_(Q,"description",{configurable:!0,get:function(){return K(this).description}}),r||b($,"propertyIsEnumerable",ft,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:z}),j(E(ot),(function(t){F(t)})),t({target:B,stat:!0,forced:!o},{useSetter:function(){at=!0},useSimple:function(){at=!1}}),t({target:"Object",stat:!0,forced:!o,sham:!s},{create:function(t,e){return void 0===e?p(t):ht(p(t),e)},defineProperty:lt,defineProperties:ht,getOwnPropertyDescriptor:vt}),t({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:pt}),x(),V(z,B),O[W]=!0}(),function(){if(Fo)return xo;Fo=1;var t=an(),e=kt(),n=ge(),i=As(),r=pe(),s=Vo(),o=r("string-to-symbol-registry"),a=r("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!s},{for:function(t){var r=i(t);if(n(o,r))return o[r];var s=e("Symbol")(r);return o[r]=s,a[s]=r,s}})}(),function(){if(Ho)return jo;Ho=1;var t=an(),e=ge(),n=Ct(),i=Mt(),r=pe(),s=Vo(),o=r("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(t){if(!n(t))throw new TypeError(i(t)+" is not a symbol");if(e(o,t))return o[t]}})}(),function(){if(Go)return qo;Go=1;var t=an(),e=kt(),n=R(),i=M(),r=I(),s=A(),o=k(),a=Ct(),u=xn(),c=Ko(),d=Lt(),l=String,h=e("JSON","stringify"),f=r(/./.exec),v=r("".charAt),p=r("".charCodeAt),E=r("".replace),g=r(1..toString),m=/[\uD800-\uDFFF]/g,y=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,D=!d||s((function(){var t=e("Symbol")("stringify detection");return"[null]"!==h([t])||"{}"!==h({a:t})||"{}"!==h(Object(t))})),T=s((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")})),b=function(t,e){var r=u(arguments),s=c(e);if(o(s)||void 0!==t&&!a(t))return r[1]=function(t,e){if(o(s)&&(e=i(s,this,l(t),e)),!a(e))return e},n(h,null,r)},_=function(t,e,n){var i=v(n,e-1),r=v(n,e+1);return f(y,t)&&!f(S,r)||f(S,t)&&!f(y,i)?"\\u"+g(p(t,0),16):t};h&&t({target:"JSON",stat:!0,arity:3,forced:D||T},{stringify:function(t,e,i){var r=u(arguments),s=n(D?b:h,null,r);return T&&"string"==typeof s?E(s,m,_):s}})}(),function(){if($o)return Qo;$o=1;var t=an(),e=Lt(),n=A(),i=oo(),r=Ee();t({target:"Object",stat:!0,forced:!e||n((function(){i.f(1)}))},{getOwnPropertySymbols:function(t){var e=i.f;return e?e(r(t)):[]}})}()),ms}var Yo;var Jo;var Zo;var ta,ea={};function na(){return ta||(ta=1,_o()("iterator")),ea}var ia;var ra;var sa;var oa;var aa;var ua;var ca,da={};function la(){if(ca)return da;ca=1;var t=_o(),e=wo();return t("toPrimitive"),e(),da}var ha,fa={};var va;var pa,Ea,ga,ma={};function ya(){return ga?Ea:(ga=1,function(){if(Zr)return es;Zr=1;var t=an(),e=A(),n=ns(),i=Dt(),r=Ee(),s=os(),o=as(),a=us(),u=vs(),c=ps(),d=ye(),l=wt(),h=d("isConcatSpreadable"),f=l>=51||!e((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=function(t){if(!i(t))return!1;var e=t[h];return void 0!==e?!!e:n(t)};t({target:"Array",proto:!0,arity:1,forced:!f||!c("concat")},{concat:function(t){var e,n,i,c,d,l=r(this),h=u(l,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(v(d=-1===e?l:arguments[e]))for(c=s(d),o(f+c),n=0;n<c;n++,f++)n in d&&a(h,f,d[n]);else o(f+1),a(h,f++,d);return h.length=f,h}})}(),Xo(),Yo||(Yo=1,_o()("asyncIterator")),Jo||(Jo=1,_o()("hasInstance")),Zo||(Zo=1,_o()("isConcatSpreadable")),na(),ia||(ia=1,_o()("match")),ra||(ra=1,_o()("matchAll")),sa||(sa=1,_o()("replace")),oa||(oa=1,_o()("search")),aa||(aa=1,_o()("species")),ua||(ua=1,_o()("split")),la(),function(){if(ha)return fa;ha=1;var t=kt(),e=_o(),n=Oo();e("toStringTag"),n(t("Symbol"),"Symbol")}(),va||(va=1,_o()("unscopables")),function(){if(pa)return ma;pa=1;var t=y();Oo()(t.JSON,"JSON",!0)}(),Ea=Tt().Symbol)}var Aa,Sa,Ra,Ia,Da,Ta,ka,ba,_a,wa,La,Oa,Ca,Ma,Pa,Na,Ua,Fa,xa,Va,Ha,ja={};function Wa(){return Sa?Aa:(Sa=1,Aa=function(){})}function Ba(){return Ia?Ra:(Ia=1,Ra={})}function Ga(){if(Ta)return Da;Ta=1;var t=C(),e=ge(),n=Function.prototype,i=t&&Object.getOwnPropertyDescriptor,r=e(n,"name"),s=r&&"something"===function(){}.name,o=r&&(!t||t&&i(n,"name").configurable);return Da={EXISTS:r,PROPER:s,CONFIGURABLE:o}}function qa(){if(ba)return ka;ba=1;var t,e,n,i=A(),r=k(),s=Dt(),o=$s(),a=ln(),u=ao(),c=ye(),d=he(),l=c("iterator"),h=!1;return[].keys&&("next"in(n=[].keys())?(e=a(a(n)))!==Object.prototype&&(t=e):h=!0),!s(t)||i((function(){var e={};return t[l].call(e)!==e}))?t={}:d&&(t=o(t)),r(t[l])||u(t,l,(function(){return this})),ka={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:h}}function Ka(){if(wa)return _a;wa=1;var t=qa().IteratorPrototype,e=$s(),n=yt(),i=Oo(),r=Ba(),s=function(){return this};return _a=function(o,a,u,c){var d=a+" Iterator";return o.prototype=e(t,{next:n(+!c,u)}),i(o,d,!1,!0),r[d]=s,o}}function $a(){if(Oa)return La;Oa=1;var t=an(),e=M(),n=he(),i=Ga(),r=k(),s=Ka(),o=ln(),a=Pi(),u=Oo(),c=on(),d=ao(),l=ye(),h=Ba(),f=qa(),v=i.PROPER,p=i.CONFIGURABLE,E=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,m=l("iterator"),y="keys",A="values",S="entries",R=function(){return this};return La=function(i,l,f,I,D,T,k){s(f,l,I);var b,_,w,L=function(t){if(t===D&&N)return N;if(!g&&t&&t in M)return M[t];switch(t){case y:case A:case S:return function(){return new f(this,t)}}return function(){return new f(this)}},O=l+" Iterator",C=!1,M=i.prototype,P=M[m]||M["@@iterator"]||D&&M[D],N=!g&&P||L(D),U="Array"===l&&M.entries||P;if(U&&(b=o(U.call(new i)))!==Object.prototype&&b.next&&(n||o(b)===E||(a?a(b,E):r(b[m])||d(b,m,R)),u(b,O,!0,!0),n&&(h[O]=R)),v&&D===A&&P&&P.name!==A&&(!n&&p?c(M,"name",A):(C=!0,N=function(){return e(P,this)})),D)if(_={values:L(A),keys:T?N:L(y),entries:L(S)},k)for(w in _)(g||C||!(w in M))&&d(M,w,_[w]);else t({target:l,proto:!0,forced:g||C},_);return n&&!k||M[m]===N||d(M,m,N,{name:D}),h[l]=N,_}}function za(){return Ma?Ca:(Ma=1,Ca=function(t,e){return{value:t,done:e}})}function Qa(){if(Na)return Pa;Na=1;var t=It(),e=Wa(),n=Ba(),i=Mo(),r=sn().f,s=$a(),o=za(),a=he(),u=C(),c="Array Iterator",d=i.set,l=i.getterFor(c);Pa=s(Array,"Array",(function(e,n){d(this,{type:c,target:t(e),index:0,kind:n})}),(function(){var t=l(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,o(void 0,!0);switch(t.kind){case"keys":return o(n,!1);case"values":return o(e[n],!1)}return o([n,e[n]],!1)}),"values");var h=n.Arguments=n.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&"values"!==h.name)try{r(h,"name",{value:"values"})}catch(t){}return Pa}function Xa(){return Fa?Ua:(Fa=1,Ua={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0})}function Ya(){if(xa)return ja;xa=1,Qa();var t=Xa(),e=y(),n=Oo(),i=Ba();for(var r in t)n(e[r],r),i[r]=i.Array;return ja}function Ja(){if(Ha)return Va;Ha=1;var t=ya();return Ya(),Va=t}var Za,tu={};var eu;var nu;var iu,ru,su;function ou(){if(su)return ru;su=1;var t=Ja();return function(){if(Za)return tu;Za=1;var t=ye(),e=sn().f,n=t("metadata"),i=Function.prototype;void 0===i[n]&&e(i,n,{value:null})}(),eu||(eu=1,_o()("asyncDispose")),nu||(nu=1,_o()("dispose")),iu||(iu=1,_o()("metadata")),ru=t}var au,uu,cu;function du(){if(uu)return au;uu=1;var t=kt(),e=I(),n=t("Symbol"),i=n.keyFor,r=e(n.prototype.valueOf);return au=n.isRegisteredSymbol||function(t){try{return void 0!==i(r(t))}catch(t){return!1}}}var lu,hu,fu;function vu(){if(hu)return lu;hu=1;for(var t=pe(),e=kt(),n=I(),i=Ct(),r=ye(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=n(s.prototype.valueOf),c=t("wks"),d=0,l=a(s),h=l.length;d<h;d++)try{var f=l[d];i(s[f])&&r(f)}catch(t){}return lu=function(t){if(o&&o(t))return!0;try{for(var e=u(t),n=0,i=a(c),r=i.length;n<r;n++)if(c[i[n]]==e)return!0}catch(t){}return!1},lu}var pu;var Eu;var gu;var mu;var yu;var Au;var Su;var Ru,Iu,Du,Tu,ku;function bu(){if(Du)return Iu;Du=1;var t=ou();return cu||(cu=1,an()({target:"Symbol",stat:!0},{isRegisteredSymbol:du()})),fu||(fu=1,an()({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:vu()})),pu||(pu=1,_o()("customMatcher")),Eu||(Eu=1,_o()("observable")),gu||(gu=1,an()({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:du()})),mu||(mu=1,an()({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:vu()})),yu||(yu=1,_o()("matcher")),Au||(Au=1,_o()("metadataKey")),Su||(Su=1,_o()("patternMatch")),Ru||(Ru=1,_o()("replaceAll")),Iu=t}function _u(){return ku?Tu:(ku=1,Tu=bu())}var wu,Lu,Ou,Cu,Mu,Pu,Nu,Uu,Fu,xu,Vu,Hu,ju,Wu=e(_u()),Bu={};function Gu(){if(Lu)return wu;Lu=1;var t=I(),e=rs(),n=As(),i=Rt(),r=t("".charAt),s=t("".charCodeAt),o=t("".slice),a=function(t){return function(a,u){var c,d,l=n(i(a)),h=e(u),f=l.length;return h<0||h>=f?t?"":void 0:(c=s(l,h))<55296||c>56319||h+1===f||(d=s(l,h+1))<56320||d>57343?t?r(l,h):c:t?o(l,h,h+2):d-56320+(c-55296<<10)+65536}};return wu={codeAt:a(!1),charAt:a(!0)}}function qu(){return Mu?Cu:(Mu=1,Qa(),function(){if(Ou)return Bu;Ou=1;var t=Gu().charAt,e=As(),n=Mo(),i=$a(),r=za(),s="String Iterator",o=n.set,a=n.getterFor(s);i(String,"String",(function(t){o(this,{type:s,string:e(t),index:0})}),(function(){var e,n=a(this),i=n.string,s=n.index;return s>=i.length?r(void 0,!0):(e=t(i,s),n.index+=e.length,r(e,!1))}))}(),na(),Cu=bo().f("iterator"))}function Ku(){if(Nu)return Pu;Nu=1;var t=qu();return Ya(),Pu=t}function $u(){return Fu?Uu:(Fu=1,Uu=Ku())}function zu(){return Vu?xu:(Vu=1,xu=$u())}function Qu(){return ju?Hu:(ju=1,Hu=zu())}var Xu,Yu,Ju,Zu,tc,ec,nc,ic,rc,sc,oc=e(Qu());function ac(t){return ac="function"==typeof Wu&&"symbol"==typeof oc?function(t){return typeof t}:function(t){return t&&"function"==typeof Wu&&t.constructor===Wu&&t!==Wu.prototype?"symbol":typeof t},ac(t)}function uc(){return Yu?Xu:(Yu=1,la(),Xu=bo().f("toPrimitive"))}function cc(){return Zu?Ju:(Zu=1,Ju=uc())}function dc(){return ec?tc:(ec=1,tc=cc())}function lc(){return ic?nc:(ic=1,nc=dc())}function hc(){return sc?rc:(sc=1,rc=lc())}var fc=e(hc());function vc(t){var e=function(t,e){if("object"!=ac(t)||!t)return t;var n=t[fc];if(void 0!==n){var i=n.call(t,e);if("object"!=ac(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ac(e)?e:e+""}function pc(t,e,n){return(e=vc(e))in t?ts(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ec(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),ts(t,vc(i.key),i)}}function gc(t,e,n){return e&&Ec(t.prototype,e),n&&Ec(t,n),ts(t,"prototype",{writable:!1}),t}function mc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yc(t,e){if(e&&("object"==ac(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}var Ac,Sc,Rc,Ic,Dc,Tc,kc,bc,_c,wc,Lc;function Oc(){if(Rc)return Sc;Rc=1,Ac||(Ac=1,an()({target:"Object",stat:!0,sham:!C()},{create:$s()}));var t=Tt().Object;return Sc=function(e,n){return t.create(e,n)}}function Cc(){return Dc?Ic:(Dc=1,Ic=Oc())}function Mc(){return kc?Tc:(kc=1,Tc=Cc())}function Pc(){return _c?bc:(_c=1,bc=Mc())}function Nc(){return Lc?wc:(Lc=1,wc=Pc())}var Uc,Fc,xc,Vc,Hc,jc,Wc,Bc,Gc,qc,Kc,$c,zc,Qc,Xc,Yc,Jc,Zc,td,ed,nd,id,rd,sd,od=e(Nc());function ad(t,e){var n;return ad=Yi?ii(n=Yi).call(n):function(t,e){return t.__proto__=e,t},ad(t,e)}function ud(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=od(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),ts(t,"prototype",{writable:!1}),e&&ad(t,e)}function cd(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function dd(t,e){return t.get(hd(t,e))}function ld(t,e,n){return t.set(hd(t,e),n),n}function hd(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function fd(t,e,n){return e=sr(e),yc(t,vd()?Reflect.construct(e,n||[],sr(t).constructor):e.apply(t,n))}function vd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vd=function(){return!!t})()}!function(t){t.READY="ready",t.RENDERED="rendered",t.VIEWABLED="viewable",t.HOSTMETA_CHANGED="hostMetaChange",t.POSITION_UPDATED="pos-update",t.EXPOSURE_CHANGED="exposureChanged",t.VIDEO_CONTROLLER_EVENT="videoControllerEvent",t.CLICK_HANDLER_SET="clickHandlerSet",t.DESTROYED="destroyed"}(Uc||(Uc={})),function(t){t[t.PICKED=0]="PICKED",t[t.REQUESTED=1]="REQUESTED",t[t.LOADED=2]="LOADED",t[t.AD_START_REQUESTED=3]="AD_START_REQUESTED",t[t.RENDERED=4]="RENDERED",t[t.DESTROYED=5]="DESTROYED"}(Fc||(Fc={})),function(t){t.READY="ready",t.RENDERED="rendered",t.VIEWABLED="viewabled",t.HOSTMETA_CHANGED="hostMetaChanged",t.EXPOSURE_CHANGED="exposureChanged",t.POSITION_UPDATED="positionUpdated",t.STATE_CHANGED="stateChanged",t.DESTROYED="destroyed",t.LEGACY_VIEWABLED="viewable",t.LEGACY_HOSTMETA_CHANGED="hostMetaChange",t.LEGACY_POSITION_UPDATED="pos-update"}(xc||(xc={})),function(t){t.BANNER="BANNER",t.NATIVE="NATIVE",t.VIDEO="VIDEO"}(Vc||(Vc={})),function(t){t.ACK_IMPRESSION="ACK_IMPRESSION",t.CLICKED="CLICKED",t.RENDERED_IMPRESSION="RENDERED_IMPRESSION",t.VIEWABLE_IMPRESSION="VIEWABLE_IMPRESSION",t.LOAD_ERROR="LOAD_ERROR",t.START_ERROR="START_ERROR",t.VIMP_1PX="VIMP_1PX",t.VIMP_100="VIMP_100",t.VIMP_100P="VIMP_100P",t.AD_MUTE="AD_MUTE",t.ADVERTISER_MUTE="ADVERTISER_MUTE",t.BOUNCE_BACK="BOUNCE_BACK",t.MUTE="MUTE"}(Hc||(Hc={})),function(t){t.MALE="M",t.FEMALE="F",t.UNKNOWN="O"}(jc||(jc={})),function(t){t[t.INTERNAL_ERROR=1e3]="INTERNAL_ERROR",t[t.INIT_ERROR=2e3]="INIT_ERROR",t[t.INIT_ERROR_INVALID_PARAM=2100]="INIT_ERROR_INVALID_PARAM",t[t.INIT_ERROR_AD_PROVIDER=2200]="INIT_ERROR_AD_PROVIDER",t[t.LOAD_ERROR=3e3]="LOAD_ERROR",t[t.LOAD_ERROR_INVALID_PARAM=3100]="LOAD_ERROR_INVALID_PARAM",t[t.LOAD_ERROR_INVALID_PARAM_AD_UNIT_ID=3110]="LOAD_ERROR_INVALID_PARAM_AD_UNIT_ID",t[t.LOAD_ERROR_INVALID_PARAM_AD_PARAM=3120]="LOAD_ERROR_INVALID_PARAM_AD_PARAM",t[t.LOAD_ERROR_WATERFALL_LIST=3200]="LOAD_ERROR_WATERFALL_LIST",t[t.LOAD_ERROR_WATERFALL_LIST_REQUEST_FAILED=3210]="LOAD_ERROR_WATERFALL_LIST_REQUEST_FAILED",t[t.LOAD_ERROR_WATERFALL_LIST_PARSE_FAILED=3220]="LOAD_ERROR_WATERFALL_LIST_PARSE_FAILED",t[t.LOAD_ERROR_AD_SELECTION=3300]="LOAD_ERROR_AD_SELECTION",t[t.LOAD_ERROR_AD_SELECTION_NO_FILL=3310]="LOAD_ERROR_AD_SELECTION_NO_FILL",t[t.LOAD_FAILED_TIMEOUT=3400]="LOAD_FAILED_TIMEOUT",t[t.START_ERROR=4e3]="START_ERROR",t[t.START_ERROR_MEDIA_START=4100]="START_ERROR_MEDIA_START",t[t.START_ERROR_MEDIA_START_FAILED=4110]="START_ERROR_MEDIA_START_FAILED",t[t.VIDEO_SCHEDULE_ERROR=9e3]="VIDEO_SCHEDULE_ERROR",t[t.VIDEO_SCHEDULE_PARAM_ERROR=9100]="VIDEO_SCHEDULE_PARAM_ERROR",t[t.VIDEO_SCHEDULE_MISSING_AD_SCHEDULE_ID_ERROR=9110]="VIDEO_SCHEDULE_MISSING_AD_SCHEDULE_ID_ERROR",t[t.VIDEO_SCHEDULE_INVALID_AD_SCHEDULE_PARAM_ERROR=9120]="VIDEO_SCHEDULE_INVALID_AD_SCHEDULE_PARAM_ERROR",t[t.VIDEO_SCHEDULE_REQUEST_ERROR=9210]="VIDEO_SCHEDULE_REQUEST_ERROR",t[t.VIDEO_SCHEDULE_PARSE_ERROR=9220]="VIDEO_SCHEDULE_PARSE_ERROR"}(Wc||(Wc={})),function(t){t.UNSPECIFIED="GFP_UNSPECIFIED_ERROR",t.NETWORK_ERROR="GFP_NETWORK_ERROR",t.SERVER_ERROR="GFP_SERVER_ERROR",t.INTERNAL_ERROR="GFP_INTERNAL_ERROR",t.ADAPTER_LOAD_TIMEOUT="GFP_ADAPTER_LOAD_TIMEOUT",t.REQUEST_TIMEOUT="GFP_REQUEST_TIMEOUT",t.NOT_REGISTERED_PROVIDER="GFP_NOT_REGISTERED_PROVIDER",t.NOT_FOUND_UNKNOWN_ADAPTER="GFP_NOT_FOUND_UNKNOWN_ADAPTER",t.NOT_FOUND_BANNER_ADAPTER="GFP_NOT_FOUND_BANNER_ADAPTER",t.NOT_FOUND_NATIVE_ADAPTER="GFP_NOT_FOUND_NATIVE_ADAPTER",t.GFP_NOT_FOUND_VIDEO_ADAPTER="GFP_NOT_FOUND_VIDEO_ADAPTER",t.MISSING_PARAM="GFP_MISSING_PARAM",t.RECEIVED_INVALID_PROPERTY="GFP_RECEIVED_INVALID_PROPERTY",t.AD_SCHEDULE_EMPTY="AD_SCHEDULE_EMPTY",t.NO_FILL="GFP_NO_FILL",t.INVALID_WATERFALL_RESPONSE="GFP_INVALID_WATERFALL_RESPONSE"}(Bc||(Bc={})),function(t){t[t.ERROR=0]="ERROR",t[t.SUCCESS=1]="SUCCESS",t[t.NO_FILL=2]="NO_FILL",t[t.TIMEOUT=3]="TIMEOUT"}(Gc||(Gc={})),function(t){t[t.WEB=0]="WEB",t[t.IOS=1]="IOS",t[t.ANDROID=2]="ANDROID"}(qc||(qc={})),function(t){t.FLUID="FLUID",t.PIXEL="PIXEL"}(Kc||(Kc={})),function(t){t.SF_LOADED="sf-loaded",t.SF_CB_REGISTERED="sf-cb-registered",t.SF_RESIZED="sf-resized",t.SF_TOUCHSTARTED="sf-touchstarted",t.SF_CLICKED="sf-clicked",t.SF_NATIVE_AD_MUTE_CLICKED="sf-native-ad-mute-clicked",t.SF_NATIVE_ADV_MUTE_CLICKED="sf-native-adv-mute-clicked",t.SF_NATIVE_SLOT_EVENT="sf-native-slot-event",t.SF_ERROR="sf-error",t.SF_INIT="sf-init",t.SF_REQUEST_RESIZE="sf-request-resize",t.SF_REQUEST_EXPAND="sf-request-expand",t.SF_REQUEST_COLLAPSE="sf-request-collapse",t.SF_AD_MUTE_COMPLETED="sf-ad-mute-completed",t.SF_AD_MUTE_STATE_CHANGED="sf-ad-mute-state-changed",t.SF_AD_MUTE_PRIVACY_CLICKED="sf-ad-mute-privacy-clicked",t.SF_AD_MUTE_TOUCHSTARTED="sf-ad-mute-touchstarted",t.SF_AD_MUTE_TOUCHENDED="sf-ad-mute-touchended",t.SF_EXPOSURE_CHANGE_SETTING="sf-exposure-change-setting",t.SF_OUTSTREAM_EVENT="sf-outstream-event",t.SF_NOTIFY_CREATIVE_META="sf-notify-creative-meta"}($c||($c={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.ETHERNET=1]="ETHERNET",t[t.WIFI=2]="WIFI",t[t.CELLULAR_UNKNOWN=3]="CELLULAR_UNKNOWN",t[t.CELLULAR_2G=4]="CELLULAR_2G",t[t.CELLULAR_3G=5]="CELLULAR_3G",t[t.CELLULAR_4G=6]="CELLULAR_4G"}(zc||(zc={})),function(t){t.WIFI="WIFI",t.CELL="CELL"}(Qc||(Qc={})),function(t){t.CELLULAR="cellular",t.ETHERNET="ethernet",t.WIFI="wifi"}(Xc||(Xc={})),function(t){t.CELLULAR_2G="2g",t.CELLULAR_3G="3g",t.CELLULAR_4G="4g"}(Yc||(Yc={})),function(t){t.NDA_BANNER_SF="SF",t.NDA_BANNER_NDP="NDP",t.NDA_BANNER_JS="JS",t.GOOGLE_BANNER="GOOGLE_GPT",t.TEADS_BANNER="TEADS",t.NATIVE_SIMPLE="NS",t.NATIVE_NORMAL="NN",t.NATIVE_COMPOSITE="NC",t.GV="GV",t.GOOGLE_IMA="GOOGLE_IMA",t.EMPTY="EMPTY"}(Jc||(Jc={})),function(t){t[t.DISABLED=0]="DISABLED",t[t.ENABLED=1]="ENABLED"}(Zc||(Zc={})),function(t){t.DARK="dark",t.LIGHT="light",t.SYSTEM="system"}(td||(td={})),function(t){t.IMPRESSED_1PX="IMPRESSED_1PX",t.IMPRESSED_100P="IMPRESSED_100P",t.IMPRESSED_100P_WITH_DURATION_1S="IMPRESSED_100P_WITH_DURATION_1S",t.IMPRESSED_50P_WITH_DURATION_2S="IMPRESSED_50P_WITH_DURATION_2S",t.VIEWABLE_IMPRESSED="VIEWABLE_IMPRESSED",t.EXPOSURE_CHANGED="EXPOSURE_CHANGED"}(ed||(ed={})),function(t){t[t.INIT=0]="INIT",t[t.RENDERED=1]="RENDERED"}(nd||(nd={})),function(t){t.AD_MUTE_COMPLETED="AD_MUTE_COMPLETED",t.MUTE_STATE_CHANGED="MUTE_STATE_CHANGED",t.TOUCH_STARTED="TOUCH_STARTED",t.TOUCH_ENDED="TOUCH_ENDED"}(id||(id={})),function(t){t.SF="SF",t.NDP_JS="NDP_JS",t.IN_APP="IN_APP",t.NO_SUPPORT="NO_SUPPORT"}(rd||(rd={})),function(t){t.INIT="init",t.FEEDBACK_ON="feedbackOn",t.QUESTION="question",t.RESULT="result"}(sd||(sd={}));let pd=function(){return gc((function t(e=[]){mc(this,t),pc(this,"commands",void 0),pc(this,"isTriggerd",void 0),pc(this,"isWorking",void 0),this.commands=e,this.isTriggerd=!1,this.isWorking=!1}),[{key:"push",value:function(t){this.commands.push(t),this.isTriggerd&&!this.isWorking&&this.execute()}},{key:"forceExecuteCommands",value:function(){this.isTriggerd=!0,this.isWorking||this.execute()}},{key:"execute",value:async function(){for(;this.commands.length>0;){const t=this.commands.shift();if("function"==typeof t)try{this.isWorking=!0,await t()}catch(t){}finally{this.isWorking=!1}}}}])}();const Ed=t=>!t||0===t.length||/^\s*$/.test(t),gd=t=>!Ed(t),md=t=>{let e=t;if(null===e)return!0;if("number"==typeof e||"boolean"==typeof e||"function"==typeof e)return!1;"string"==typeof e&&(e=e.trim());for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0};let yd=function(){return gc((function t(e,n,i){mc(this,t),pc(this,"url",void 0),pc(this,"encrypted",void 0),pc(this,"params",void 0),this.url=e,this.encrypted=n??"",this.params=i??{}}),[{key:"getCleanParams",value:function(){return Object.keys(this.params).filter((t=>t&&!md(this.params[t]))).filter((t=>"string"!=typeof this.params[t]||gd(this.params[t].toString()))).reduce(((t,e)=>({...t,[e]:String(this.params[e])})),{})}}])}(),Ad=function(){function t(){return mc(this,t),fd(this,t,arguments)}return ud(t,yd),gc(t,[{key:"callTrackingUrl",value:function(){const t=this.getBlobData();window.navigator.sendBeacon(this.url,t)}},{key:"getBlobData",value:function(){const t={...this.getCleanParams(),data:this.encrypted},e=Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&");return new Blob([e],{type:"application/x-www-form-urlencoded;charset=UTF-8"})}}])}();const Sd=()=>window.navigator.userAgent.toLowerCase(),Rd=()=>/Windows/i.test(Sd()),Id=()=>/Macintosh/i.test(Sd()),Dd=()=>/iPad/i.test(Sd())||(()=>{const t=window.navigator;return Boolean(t&&t.platform&&(-1!==t.platform.indexOf("iPad")||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream))})(),Td=()=>/iPhone/i.test(Sd())||Dd()||/iPod/i.test(Sd()),kd=()=>/Android/i.test(Sd()),bd=()=>/Windows Phone|Windows CE/i.test(Sd()),_d=()=>/Tizen/i.test(Sd()),wd=()=>void 0!==window.opera||/Opera/i.test(Sd()),Ld=()=>/Edg/i.test(Sd()),Od=()=>/Firefox/i.test(Sd()),Cd=()=>/Whale/i.test(Sd()),Md=()=>/Chrome|CriOS/i.test(Sd()),Pd=()=>!/Chrome|CriOS/i.test(Sd())&&(Sd()||"").indexOf("safari")>-1,Nd=()=>/AppleWebKit/i.test(Sd()),Ud=()=>!!Sd().match(/(?:(MSIE) |(Trident)\/.+rv[ :])([\w.]+)/i),Fd=()=>/NAVER\((inapp|higgs);\s?search;\s?/i.test(Sd()),xd=()=>/SamsungBrowser/i.test(Sd()),Vd=()=>/\bLine\b/i.test(Sd()),Hd=()=>/EdgA/i.test(Sd()),jd=()=>/EdgiOS/i.test(Sd()),Wd=()=>Ud()?"IE":Fd()?"Naver App":xd()?"SamsungBrowser":Vd()?"Line App":Hd()?"Android Edge":jd()?"IOS Edge":/IEMobile/i.test(Sd())?"IE Mobile":/Opera Mini/i.test(Sd())?"Opera Mini":/Dolfin/i.test(Sd())?"Dolfin":wd()?"Opera":Ld()?"Edge":Od()?"Firefox":Cd()?"Whale":Md()?"Chrome":Pd()?"Safari":Nd()?"WebKit":"an unknown browser",Bd=t=>{try{return"string"==typeof t?encodeURIComponent(t.replace(/[^\p{L}\p{N}\p{P}\p{Z}~`|$^+=<>]/gu,"")):encodeURIComponent(t)}catch(t){return""}},Gd=()=>{const t=document.location.href;return t.length>255?t.substring(0,255):t},qd=t=>t?Array.from(t).reduce(((t,[e,n])=>Object.assign(t,{[e]:n})),{}):{},Kd=t=>t.filter(((t,e,n)=>n.indexOf(t)===e)),$d=t=>{if("function"==typeof structuredClone)return structuredClone(t);const e={};for(const i in t){const r=t[i];Array.isArray(r)?e[i]=r.map((t=>$d(t))):(n=r,e[i]="object"==typeof n&&null!=n?$d(r):r)}var n;return e},zd=()=>String(7852516352*Number("0."+Qd())),Qd=()=>{const t=new Uint32Array(1),e=window?.crypto??window?.msCrypto;return e?.getRandomValues(t),t[0]},Xd=t=>{try{return t()}catch{return null}},Yd=(t,e=["http:","https:"])=>{if(!t)return!1;try{const n=new URL(t);return e.includes(n.protocol)}catch{return!1}};let Jd=function(){function t(){return mc(this,t),fd(this,t,arguments)}return ud(t,yd),gc(t,[{key:"callTrackingUrl",value:function(){const t=this.getTrackingUrl();this.sendXHRRequest(t).then((t=>{})).catch((t=>{}))}},{key:"getTrackingUrl",value:function(){let t=`${this.url}${this.encrypted}`;const e=Object.keys(this.getCleanParams()).map((t=>`${t}=${Bd(this.params[t])}`)).join("&");return md(e)||(t=`${t}?${e}`),(t=>{const e=Math.random(),n=new URL(t);return n.searchParams.append("dummy",`${e}`),n.toString()})(t)}},{key:"sendXHRRequest",value:async function(t){const{promise:e,resolve:n,reject:i}=function(){if(Promise.withResolvers)return Promise.withResolvers();let t,e;return{promise:new Promise(((n,i)=>{t=n,e=i})),resolve:t,reject:e}}(),r=new XMLHttpRequest;return r.open("GET",t),r.onabort=()=>i("Request Aborted"),r.onerror=()=>i("Network Error"),r.onreadystatechange=()=>{if(!r||4!==r.readyState)return;const t=r.status;if(t>=200&&t<300){const e=r.response;n({status:t,data:e})}else i("Request Failed")},r.send(),e}}])}(),Zd=function(){function t(e,n,i,r){var s;return mc(this,t),pc(s=fd(this,t,[e,n,i]),"tunnelManager",void 0),s.tunnelManager=r,s}return ud(t,Jd),gc(t,[{key:"sendXHRRequest",value:async function(e){const n=this.tunnelManager?.isValid()?await this.tunnelManager.getTunnelUrl(e):e;return(i="sendXHRRequest",r=this,s=3,o=or(sr(t.prototype),i,r),2&s&&"function"==typeof o?function(t){return o.apply(r,t)}:o)([n]);var i,r,s,o}}])}(),tl=function(){function t(){mc(this,t)}return gc(t,null,[{key:"create",value:function(e,n,i,r){return r?.isValid()?new Zd(e,n,i,r):"function"==typeof window.navigator.sendBeacon&&t.isPOSTMethod(e)?new Ad(e,n,i):new Jd(e,n,i)}},{key:"isPOSTMethod",value:function(t){return new RegExp(/((tivan.naver)|(t.naverads)).com\/sc\d?\/\d+/).test(t)}}])}();const el={ratio:.5,ms:1e3},nl=t=>{if(!t)return el;const e=Number(t.ms),n=Number(t.ratio);return!isNaN(e)&&!isNaN(n)&&n>=0&&n<=100?{ratio:n/100,ms:e}:el},il={capture:!0},rl=["pageshow","focus","blur","visibilitychange","resume"];let sl=function(){return gc((function t(e){mc(this,t),pc(this,"state",void 0),pc(this,"handler",void 0),pc(this,"checkAndUpdateState",(()=>{this.setState(this.checkDocumentState())})),pc(this,"onFreeze",(()=>{this.setState("frozen")})),pc(this,"onPageHide",(t=>{this.setState(t.persisted?"frozen":"terminated")})),this.state=this.checkDocumentState(),this.handler=e}),[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(t){this.state!==t&&(this.state=t,this.dispatch(this.state))}},{key:"dispatch",value:function(t){try{this.handler(t)}catch(t){}}},{key:"checkDocumentState",value:function(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}},{key:"addWindowEvent",value:function(){rl.forEach((t=>{window.addEventListener(t,this.checkAndUpdateState,il)})),window.addEventListener("freeze",this.onFreeze,il),window.addEventListener("pagehide",this.onPageHide,il)}},{key:"removeWindowEvent",value:function(){rl.forEach((t=>{window.removeEventListener(t,this.checkAndUpdateState,il)})),window.removeEventListener("freeze",this.onFreeze,il),window.removeEventListener("pagehide",this.onPageHide,il)}}])}(),ol=function(){return gc((function t(e,n,i=el){mc(this,t),pc(this,"target",void 0),pc(this,"visibilityObserverListener",void 0),pc(this,"viewableImpressionConfig",void 0),pc(this,"visibleTimeout",void 0),pc(this,"visibleTimeout100p1s",void 0),pc(this,"visibleTimeout50p2s",void 0),pc(this,"isViewableImpressed",void 0),pc(this,"isImpressed1px",void 0),pc(this,"isImpressed100p",void 0),pc(this,"isImpressed100p1s",void 0),pc(this,"isImpressed50p2s",void 0),pc(this,"isIntersecting",void 0),pc(this,"intersectionRatio",void 0),this.target=e,this.visibilityObserverListener=n,this.viewableImpressionConfig=i,this.isViewableImpressed=!1,this.isImpressed1px=!1,this.isImpressed100p=!1,this.isImpressed100p1s=!1,this.isImpressed50p2s=!1,this.isIntersecting=!1,this.intersectionRatio=0}),[{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"onChangeIntersection",value:function(t,e){this.visibilityObserverListener.dispatch(ed.EXPOSURE_CHANGED,{target:this.target,isIntersecting:t,intersectionRatio:e}),this.isIntersecting=t,this.intersectionRatio=e,this.checkImpressed()}},{key:"checkImpressed",value:function(){this.checkImpressed1px(),this.checkImpressed100p(),this.checkImpressed100p1s(),this.checkImpressed50p2s(),this.checkViewableImpressed()}},{key:"checkImpressed1px",value:function(){!this.isImpressed1px&&this.intersectionRatio>0&&(this.isImpressed1px=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_1PX,{target:this.target}))}},{key:"checkImpressed100p",value:function(){this.isImpressed100p||1!==this.intersectionRatio||(this.isImpressed100p=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_100P,{target:this.target}))}},{key:"checkImpressed100p1s",value:function(){this.isImpressed100p1s||(1===this.intersectionRatio?this.visibleTimeout100p1s||(this.visibleTimeout100p1s=window.setTimeout((()=>{this.isImpressed100p1s=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_100P_WITH_DURATION_1S,{target:this.target})}),1e3)):this.visibleTimeout100p1s&&(clearTimeout(this.visibleTimeout100p1s),this.visibleTimeout100p1s=void 0))}},{key:"checkImpressed50p2s",value:function(){this.isImpressed50p2s||(!this.visibleTimeout50p2s&&this.intersectionRatio>=.5?this.visibleTimeout50p2s=window.setTimeout((()=>{this.isImpressed50p2s=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_50P_WITH_DURATION_2S,{target:this.target})}),2e3):this.visibleTimeout50p2s&&(clearTimeout(this.visibleTimeout50p2s),this.visibleTimeout50p2s=void 0))}},{key:"checkViewableImpressed",value:function(){this.isViewableImpressed||(this.intersectionRatio>0&&this.intersectionRatio>=this.viewableImpressionConfig.ratio?this.visibleTimeout||(this.visibleTimeout=window.setTimeout((()=>{this.isViewableImpressed=!0,this.visibilityObserverListener.dispatch(ed.VIEWABLE_IMPRESSED,{target:this.target})}),this.viewableImpressionConfig.ms)):this.visibleTimeout&&(clearTimeout(this.visibleTimeout),this.visibleTimeout=void 0))}},{key:"clearTimer",value:function(){this.visibleTimeout&&(window.clearTimeout(this.visibleTimeout),this.visibleTimeout=void 0),this.visibleTimeout100p1s&&(window.clearTimeout(this.visibleTimeout100p1s),this.visibleTimeout100p1s=void 0),this.visibleTimeout50p2s&&(window.clearTimeout(this.visibleTimeout50p2s),this.visibleTimeout50p2s=void 0)}}])}(),al=function(){function t(e,n,i){var r;return mc(this,t),pc(r=fd(this,t,[e,n,i]),"pageLifeCycleManager",void 0),pc(r,"pageLifeCycleState",void 0),pc(r,"checkState",(t=>{r.pageLifeCycleState=t,r.checkImpressed()})),r.pageLifeCycleManager=new sl(r.checkState),r}return ud(t,ol),gc(t,[{key:"start",value:function(){this.pageLifeCycleManager.addWindowEvent()}},{key:"stop",value:function(){this.pageLifeCycleManager.removeWindowEvent()}},{key:"checkImpressed1px",value:function(){!this.isImpressed1px&&this.intersectionRatio>0&&"active"===this.pageLifeCycleState&&(this.isImpressed1px=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_1PX,{target:this.target}))}},{key:"checkImpressed100p",value:function(){this.isImpressed100p||1!==this.intersectionRatio||"active"!==this.pageLifeCycleState||(this.isImpressed100p=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_100P,{target:this.target}))}},{key:"checkImpressed100p1s",value:function(){this.isImpressed100p1s||(1===this.intersectionRatio&&"active"===this.pageLifeCycleState?this.visibleTimeout100p1s||(this.visibleTimeout100p1s=window.setTimeout((()=>{this.isImpressed100p1s=!0,this.visibilityObserverListener.dispatch(ed.IMPRESSED_100P_WITH_DURATION_1S,{target:this.target})}),1e3)):this.visibleTimeout100p1s&&(clearTimeout(this.visibleTimeout100p1s),this.visibleTimeout100p1s=void 0))}},{key:"checkViewableImpressed",value:function(){this.isViewableImpressed||(this.intersectionRatio>0&&this.intersectionRatio>=this.viewableImpressionConfig.ratio&&"active"===this.pageLifeCycleState?this.visibleTimeout||(this.visibleTimeout=window.setTimeout((()=>{this.isViewableImpressed=!0,this.visibilityObserverListener.dispatch(ed.VIEWABLE_IMPRESSED,{target:this.target})}),this.viewableImpressionConfig.ms)):this.visibleTimeout&&(clearTimeout(this.visibleTimeout),this.visibleTimeout=void 0))}}])}(),ul=function(){return gc((function t(){mc(this,t),pc(this,"eventHandlers",void 0),this.eventHandlers={}}),[{key:"addEventListener",value:function(t,e){const n=this.eventHandlers[t]??[];return n.push(e),this.eventHandlers[t]=n,()=>{this.removeListener(t,e)}}},{key:"dispatch",value:function(t,...e){const n=this.eventHandlers[t];n&&n.forEach((t=>{t(...e)}))}},{key:"removeAllListeners",value:function(){this.eventHandlers={}}},{key:"removeListener",value:function(t,e){const n=this.eventHandlers[t];n?.length&&(this.eventHandlers[t]=n.filter((t=>t!==e)))}},{key:"destroy",value:function(){this.removeAllListeners()}}])}(),cl=function(){function t(){return mc(this,t),fd(this,t,arguments)}return ud(t,ul),gc(t)}();const dl=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1];let ll=function(){return gc((function t(e,n=el,i="VIEWABLE_NORMAL"){if(mc(this,t),pc(this,"adViewabilityMeasureType",void 0),pc(this,"visibilityObserverListener",void 0),pc(this,"visibilityCheckerMap",void 0),pc(this,"observer",void 0),pc(this,"threshold",dl),this.adViewabilityMeasureType=i,!e)throw new Error("Not found ad element.");this.visibilityObserverListener=new cl,this.visibilityCheckerMap=new Map;const r=this.createVisibilityChecker(e,n);this.visibilityCheckerMap.set(e,r)}),[{key:"createVisibilityChecker",value:function(t,e){return"VIEWABLE_FOCUS"===this.adViewabilityMeasureType?new al(t,this.visibilityObserverListener,e):new ol(t,this.visibilityObserverListener,e)}},{key:"setSubAdElement",value:function(t){if(!t)throw new Error("Not found subAdElement.");this.visibilityCheckerMap.set(t,new ol(t,this.visibilityObserverListener))}},{key:"start",value:function(){this.observer||(this.observer=new IntersectionObserver((t=>{t.forEach((t=>{this.visibilityCheckerMap.get(t?.target)?.onChangeIntersection(t.isIntersecting,t.intersectionRatio)}))}),{threshold:this.threshold}),this.visibilityCheckerMap.forEach((t=>{t.start(),this.observer?.observe(t.target)})))}},{key:"resume",value:function(){this.visibilityCheckerMap.forEach((t=>{this.observer?.observe(t.target),t.clearTimer()}))}},{key:"pause",value:function(){this.visibilityCheckerMap.forEach((t=>{this.observer?.unobserve(t.target)}))}},{key:"stop",value:function(){this.observer?.disconnect(),this.observer=void 0,this.visibilityObserverListener.destroy(),this.visibilityCheckerMap.forEach((t=>{t.stop()}))}},{key:"addEventListener",value:function(t,e){this.visibilityObserverListener.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.visibilityObserverListener.removeListener(t,e)}}])}(),hl=function(){return gc((function t(e){for(mc(this,t);e.length>0;){const t=e.shift();if("function"==typeof t)try{t()}catch(t){}}}),[{key:"push",value:function(t){try{t()}catch(t){}}}])}(),fl=function(){return gc((function t(e=[]){mc(this,t),pc(this,"core",void 0),pc(this,"commands",void 0),pc(this,"isTriggered",void 0),this.commands=e,this.isTriggered=!1}),[{key:"push",value:function(t){this.isTriggered?this.core?.push(t):this.commands.push(t)}},{key:"forceExecuteCommands",value:function(){this.isTriggered=!0,this.core=new hl(this.commands)}}])}();function vl(t,e="",n=""){if("function"==typeof Element.prototype.closest){const i=`a, [${e}='${n}']`;return t.closest(i)}let i=t;do{if(i instanceof HTMLAnchorElement||i.getAttribute(e)===n)return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null}const pl=()=>2===window.performance?.navigation?.type,El="gfp_uuid_iv";const gl=new(function(){return gc((function t(){mc(this,t)}),[{key:"getIV",value:function(){const t=Xd((()=>window.localStorage.getItem(El)));if(t)return t;const e=(()=>{const t=window?.crypto??window?.msCrypto;return"function"==typeof t?.randomUUID?t.randomUUID():t?"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(+e^t.getRandomValues(new Uint8Array(1))[0]&15>>+e/4).toString(16))):""})();return Xd((()=>window.localStorage.setItem(El,e))),e}},{key:"getIVT",value:function(t){return Ed(t)||t===this.getIV()?qc.WEB:kd()?qc.ANDROID:Td()?qc.IOS:qc.WEB}}])}());let ml=function(){return gc((function t(e){mc(this,t),pc(this,"eventTrackingRecord",void 0),this.eventTrackingRecord=e}),[{key:"getEventTrackingUrlList",value:function(t){return(this.eventTrackingRecord[t]??[]).filter(gd)}}])}(),yl=function(){return gc((function t(e){mc(this,t),pc(this,"ackImpressions",void 0),pc(this,"clicks",void 0),pc(this,"renderedImpressions",void 0),pc(this,"viewableImpressions",void 0),pc(this,"loadErrors",void 0),pc(this,"startErrors",void 0),pc(this,"vimp1px",void 0),pc(this,"vimp100",void 0),pc(this,"vimp100p",void 0),pc(this,"admute",void 0),pc(this,"advmute",void 0),pc(this,"bounce",void 0),pc(this,"mute",void 0),this.ackImpressions=e?.ackImpressions??[],this.clicks=e?.clicks??[],this.renderedImpressions=e?.renderedImpressions??[],this.viewableImpressions=e?.viewableImpressions??[],this.loadErrors=e?.loadErrors??[],this.startErrors=e?.startErrors??[],this.vimp1px=e?.vimp1px,this.vimp100=e?.vimp100,this.vimp100p=e?.vimp100p,this.admute=e?.admute,this.advmute=e?.advmute,this.bounce=e?.bounce,this.mute=e?.mute}),[{key:"createEventTrackingContainer",value:function(){const t=this.ackImpressions?.map((t=>t.url))??[],e=this.clicks?.map((t=>t.url))??[],n=this.renderedImpressions?.map((t=>t.url))??[],i=this.viewableImpressions?.map((t=>t.url))??[],r=this.loadErrors?.map((t=>t.url))??[],s=this.startErrors?.map((t=>t.url))??[],o=this.vimp1px?.map((t=>t.url))??[],a=this.vimp100?.map((t=>t.url))??[],u=this.vimp100p?.map((t=>t.url))??[],c=this.admute?.map((t=>t.url))??[],d=this.advmute?.map((t=>t.url))??[],l=this.bounce?.map((t=>t.url))??[],h=this.mute?.map((t=>t.url))??[];return new ml({[Hc.ACK_IMPRESSION]:t,[Hc.CLICKED]:e,[Hc.RENDERED_IMPRESSION]:n,[Hc.VIEWABLE_IMPRESSION]:i,[Hc.LOAD_ERROR]:r,[Hc.START_ERROR]:s,[Hc.VIMP_1PX]:o,[Hc.VIMP_100]:a,[Hc.VIMP_100P]:u,[Hc.AD_MUTE]:c,[Hc.ADVERTISER_MUTE]:d,[Hc.BOUNCE_BACK]:l,[Hc.MUTE]:h})}}])}();const Al="ct",Sl="t0",Rl="sz",Il="rt",Dl="st",Tl="erc",kl="ersc",bl="erm",_l="t1";let wl=function(){function t({gfpEventTracking:e,providerEventTracking:n,encrypted:i,timeMap:r,tunnelManager:s}){mc(this,t),pc(this,"gfpEventTracking",void 0),pc(this,"gfpEventTrackingContainer",void 0),pc(this,"providerEventTrackingContainer",void 0),pc(this,"encrypted",void 0),pc(this,"timeMap",void 0),pc(this,"subEventNotifiers",void 0),pc(this,"tunnelManager",void 0),this.gfpEventTracking=e,this.gfpEventTrackingContainer=new yl(e).createEventTrackingContainer(),this.providerEventTrackingContainer=new yl(n).createEventTrackingContainer(),this.encrypted=i??"",this.timeMap=r,this.subEventNotifiers=new Map,this.tunnelManager=s}return gc(t,[{key:"hasProviderEventByType",value:function(t){const e=this.providerEventTrackingContainer?.getEventTrackingUrlList(t);return Boolean(Array.isArray(e)&&e.length)}},{key:"getGfpEventTrackingUrlList",value:function(t){return Ed(this.encrypted)?[]:this.gfpEventTrackingContainer.getEventTrackingUrlList(t)??[]}},{key:"getProviderEventTrackingUrlList",value:function(t){return this.providerEventTrackingContainer.getEventTrackingUrlList(t)??[]}},{key:"setSubEventNotifier",value:function(e,n,i=""){this.subEventNotifiers.set(e,new t({gfpEventTracking:this.gfpEventTracking,providerEventTracking:n??new yl,encrypted:i,timeMap:this.timeMap,tunnelManager:this.tunnelManager}))}},{key:"getSubEventNotifier",value:function(t){return this.subEventNotifiers.get(t)??null}},{key:"getAllSubEventNotifiers",value:function(){return[...this.subEventNotifiers.values()]}},{key:"fireAckImpEvent",value:function(t,e=0,n){const i=this.timeMap.calculateFromTo("request","response"),r={[Dl]:Gc.SUCCESS,[Al]:t??"",[Il]:e??0,[Rl]:this.convertSizeToString(n),[Sl]:i};this.reportEvents(Hc.ACK_IMPRESSION,r)}},{key:"fireClickEvent",value:function(t,e){const n={[Al]:t,[Rl]:this.convertSizeToString(e)};this.reportEvents(Hc.CLICKED,n)}},{key:"fireRenderedImpressionEvent",value:function(t,e){const n={[Al]:t??"",[Rl]:this.convertSizeToString(e)};this.reportEvents(Hc.RENDERED_IMPRESSION,n)}},{key:"fireViewableImpressionEvent",value:function(t,e){const n=document.hasFocus()?1:2,i={[Al]:t??"",[Rl]:this.convertSizeToString(e),[_l]:n};this.reportEvents(Hc.VIEWABLE_IMPRESSION,i)}},{key:"fireLoadErrorEvent",value:function(t,e){const n=this.timeMap.calculateFromTo("request","response"),i={[Il]:t??0,[Dl]:e?.stat,[Tl]:e?.errorCode,[kl]:e?.errorSubCode,[bl]:e?.errorMessage,[Sl]:n};this.reportEvents(Hc.LOAD_ERROR,i)}},{key:"fireStartErrorEvent",value:function(t,e){const n={[Il]:t??0,[Dl]:e?.stat,[Tl]:e?.errorCode,[kl]:e?.errorSubCode,[bl]:e?.errorMessage};this.reportEvents(Hc.START_ERROR,n)}},{key:"fireVImp1pxEvent",value:function(){this.getProviderEventTrackingUrlList(Hc.VIMP_1PX).forEach((e=>{t.reportEvent(e,void 0,void 0,this.tunnelManager)}))}},{key:"fireVImp100Event",value:function(){this.getProviderEventTrackingUrlList(Hc.VIMP_100).forEach((e=>{t.reportEvent(e,void 0,void 0,this.tunnelManager)}))}},{key:"fireVImp100pEvent",value:function(){this.getProviderEventTrackingUrlList(Hc.VIMP_100P).forEach((e=>{t.reportEvent(e,void 0,void 0,this.tunnelManager)}))}},{key:"fireAdMuteEvent",value:function(){this.getProviderEventTrackingUrlList(Hc.AD_MUTE).forEach((e=>{t.reportEvent(e,void 0,void 0,this.tunnelManager)}))}},{key:"fireAdvertiserMuteEvent",value:function(){this.getProviderEventTrackingUrlList(Hc.ADVERTISER_MUTE).forEach((e=>{t.reportEvent(e,void 0,void 0,this.tunnelManager)}))}},{key:"fireAdMuteCompletedEvent",value:function(){this.reportEvents(Hc.MUTE,{})}},{key:"reportEvents",value:function(e,n){this.getGfpEventTrackingUrlList(e).forEach((e=>{t.reportEvent(e,this.encrypted,n,this.tunnelManager)})),this.getProviderEventTrackingUrlList(e).forEach((e=>{t.reportEvent(e,void 0,void 0,this.tunnelManager)}))}},{key:"fireAdditionalEvent",value:function(e){e.forEach((e=>{gd(e)&&t.reportEvent(e,void 0,void 0,this.tunnelManager)}))}},{key:"convertSizeToString",value:function(t){return t?`${t.width}x${t.height}`:""}}],[{key:"reportEvent",value:function(t,e,n,i){tl.create(t,e,n,i).callTrackingUrl()}},{key:"fireNetworkErrorEvent",value:function(e,n,i,r=0){const s=Object.assign({},n,{[Dl]:i?.stat,[Tl]:i?.errorCode,[kl]:i?.errorSubCode,[bl]:i?.errorMessage,[Il]:r}),o=Object.entries(s).reduce(((t,[e,n])=>(md(n)||t.push(`${e}=${Bd(n)}`),t)),[]).join("&"),a=Wd(),u=(()=>{try{if(Ud()){if("Microsoft Internet Explorer"===navigator.appName)return parseFloat(Sd().match(/MSIE ([0-9.]+)/i)[1]);if("Netscape"===navigator.appName&&null!=new RegExp("trident/.*rv[ :]([0-9]{1,}[.0-9]{0,})").exec(Sd()))return parseFloat(RegExp.$1)}if(Fd()){const t=/NAVER\((inapp|higgs);\s?search;\s?([0-9\.]+);\s?([0-9\.]+)(;\s?([a-z|0-9\.]+))?\)/i;return parseFloat(Sd().match(t)[3])}return xd()?parseFloat(Sd().match(/SamsungBrowser\/([0-9.]+)/i)[1]):Vd()?parseFloat(Sd().match(/Line\/([0-9.]+)/i)[1]):Hd()?parseInt(Sd().match(/EdgA\/([0-9.]+)/i)[1]):jd()?parseInt(Sd().match(/EdgiOS\/([0-9.]+)/i)[1]):wd()?parseFloat(Sd().match(/Version\/([0-9.]+)/i)[1]):Ld()?parseInt(Sd().match(/Edg\/([0-9.]+)/i)[1]):Od()?parseFloat(Sd().match(/Firefox\/([0-9.]+)/i)[1]):Cd()?parseFloat(Sd().match(/Whale\/([0-9.]+)/i)[1]):Md()?parseFloat(Sd().match(/(Chrome|CriOS)\/([0-9.]+)/i)[2]):Pd()||Nd()?parseFloat(Sd().match(/Version\/([0-9.]+)/i)[1]):-1}catch(t){return-1}})(),c=Rd()?"Windows":Id()?"MacOS":Td()?"IOS":kd()?"Android":bd()?"Windows Mobile":_d()?"Tizen":"an unknown OS",d=(()=>{try{return Rd()?parseFloat(Sd().match(/Windows NT ([0-9.]+)/i)[1]):Id()?parseFloat(Sd().match(/Mac OS X ([\d_.]+)/i)[1].replace(/_/g,".")):Td()?parseFloat(Sd().match(/OS ((\d+_?){2,3})\s/i)[1].replace(/_/g,".")):kd()?parseFloat(Sd().match(/Android ([0-9.]+)/i)[1]):bd()?parseFloat(Sd().match(/Windows Phone ([0-9.]+)|Windows Phone OS ([0-9.]+)/i)[0].match(/[0-9.]+/)[0]):_d()?parseFloat(Sd().match(/Tizen ([0-9.]+)/i)[1]):-1}catch(t){return-1}})(),l={q:o,u:n.u,bn:a,bv:u,os:c,osv:d,[Tl]:i?.errorCode,[kl]:i?.errorSubCode,[bl]:i?.errorMessage};t.reportEvent(e,"",l)}}])}();var Ll=new WeakMap,Ol=new WeakMap,Cl=new WeakMap,Ml=new WeakMap,Pl=new WeakMap;let Nl=function(){function t(e,n,i,r,s){mc(this,t),cd(this,Ll,void 0),cd(this,Ol,void 0),cd(this,Cl,void 0),cd(this,Ml,void 0),cd(this,Pl,void 0),ld(Ll,this,e??Wc.INTERNAL_ERROR),ld(Ol,this,n),ld(Cl,this,i),ld(Ml,this,r??Gc.ERROR),ld(Pl,this,s)}return gc(t,[{key:"errorCode",get:function(){return dd(Ll,this)}},{key:"errorSubCode",get:function(){return dd(Ol,this)}},{key:"errorMessage",get:function(){return dd(Cl,this)}},{key:"stat",get:function(){return dd(Ml,this)}},{key:"originalError",get:function(){return dd(Pl,this)}}],[{key:"fromError",value:function(e,n,i,r,s){return e instanceof t?e:(e instanceof Error&&(r=r??e.message),new t(n,i,r??"Unknown error",s,e))}}])}(),Ul=function(){return gc((function t(){mc(this,t),pc(this,"requestTimeoutId",void 0),pc(this,"endTimer",void 0)}),[{key:"initTimer",value:function(t,e){return new Promise(((n,i)=>{this.endTimer=n,e!==1/0&&(this.requestTimeoutId=window.setTimeout((()=>{i(t()),this.requestTimeoutId=void 0}),e))}))}},{key:"clearTimer",value:function(){window.clearTimeout(this.requestTimeoutId),this.endTimer?.(),this.requestTimeoutId=void 0,this.endTimer=void 0}}])}(),Fl=function(){return gc((function t({ads:e,adExtraData:n,eventTracking:i,timeMap:r}){mc(this,t),pc(this,"adQueue",void 0),pc(this,"adExtraData",void 0),pc(this,"eventTracking",void 0),pc(this,"pickedAdapter",void 0),pc(this,"eventNotifier",void 0),pc(this,"timeMap",void 0),pc(this,"mediationTimer",void 0),this.adQueue=[...e],this.adExtraData=n,this.eventTracking=i,this.timeMap=r,this.mediationTimer=new Ul}),[{key:"loadAd",value:async function(){const{requestTimeout:t}=this.getGlobalConfig(),e=()=>{const t=new Nl(Wc.LOAD_FAILED_TIMEOUT,Bc.REQUEST_TIMEOUT,"Request Timeout",Gc.TIMEOUT),e=this.timeMap.calculateNow("request");return this.eventNotifier?.fireLoadErrorEvent(e,t),t};try{await Promise.race([this.mediationTimer.initTimer(e,t),this.processNextAd()])}finally{this.mediationTimer.clearTimer()}}},{key:"processNextAd",value:async function(){const t=this.adQueue.shift();if(!t)throw new Nl(Wc.LOAD_ERROR_AD_SELECTION_NO_FILL,Bc.NO_FILL,"No ad",Gc.ERROR);const e=new wl({gfpEventTracking:this.eventTracking,providerEventTracking:t.eventTracking,encrypted:t.encrypted,timeMap:this.timeMap});t.adInfo.slots?.forEach(((t,n)=>{e.setSubEventNotifier(n,t.eventTracking)})),this.eventNotifier=e,t.renderType===Jc.EMPTY&&this.throwEmptyRenderError(e);try{this.pickedAdapter=await this.pickAdapter(t,e),await this.pickedAdapter.requestAd()}catch{this.pickedAdapter?.destroy(),this.pickedAdapter=void 0,await this.processNextAd()}}},{key:"destroy",value:function(){this.pickedAdapter?.destroy(),this.pickedAdapter=void 0}}])}(),xl=function(){return gc((function t(e){mc(this,t),pc(this,"ad",void 0),pc(this,"loadTimer",void 0),pc(this,"resolve",void 0),pc(this,"reject",void 0),this.ad=e,this.loadTimer=new Ul}),[{key:"start",value:function(){const{timeout:t}=this.ad.adInfo??{};return this.loadTimer.initTimer((()=>new Nl(Wc.LOAD_ERROR_AD_SELECTION_NO_FILL,Bc.ADAPTER_LOAD_TIMEOUT,`failed to respond in a timely manner. renderType: ${this.ad.renderType}, creativeType: ${this.ad.creativeType}, adProviderName: ${this.ad.adProviderName}`,Gc.TIMEOUT)),t||1/0).catch((t=>this.onError(t))),new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}},{key:"onLoaded",value:function(){this.loadTimer.clearTimer(),this.resolve?.()}},{key:"onError",value:function(t){this.loadTimer.clearTimer(),this.reject?.(t)}},{key:"destroy",value:function(){this.loadTimer.clearTimer(),this.resolve=void 0,this.reject=void 0}}])}(),Vl=function(){return gc((function t(){mc(this,t)}),[{key:"pickAdapter",value:async function(t,e,n,i){try{const r=await this.tryToPickAdapter(t);return this.createAdapterInstance(r,t,e,n,i)}catch(t){const e=Nl.fromError(t,Wc.INTERNAL_ERROR,Bc.RECEIVED_INVALID_PROPERTY);throw n.fireLoadErrorEvent(0,e),e}}},{key:"tryToPickAdapter",value:async function(t){try{this.validateAd(t)}catch(t){throw Nl.fromError(t,Wc.INTERNAL_ERROR,Bc.RECEIVED_INVALID_PROPERTY)}try{return await this.getAdapterClass(t)}catch(e){if(e instanceof Error){let n;switch(t.creativeType){case Vc.BANNER:n=Bc.NOT_FOUND_BANNER_ADAPTER;break;case Vc.NATIVE:n=Bc.NOT_FOUND_NATIVE_ADAPTER;break;default:n=Bc.NOT_FOUND_UNKNOWN_ADAPTER}throw Nl.fromError(e,Wc.INTERNAL_ERROR,n,`Failed to pick adapter:${e.message}`)}}throw new Error("should not reach here")}},{key:"getAdapterClass",value:async function(t){const{renderType:e,creativeType:n}=t;let i=this.getSavedAdapterClass(e,n);if(i)return i;if(await this.importAdapter(e,n),i=this.getSavedAdapterClass(e,n),i)return i;throw new Error(`Not found adapter: RenderType[${e}], CreativeType[${n}]`)}},{key:"getSavedAdapterClass",value:function(t,e){return this.getThirdPartyAdapters().find((n=>{let i;return i=Array.isArray(n.renderType)?n.renderType?.some((e=>e===t)):n.renderType===t,i&&n.creativeType===e}))?.adapter}},{key:"validateAd",value:function(t){if(!t)throw new Error("Invalid ad.");if(!t.adInfo)throw new Error("Invalid adInfo.");if(!t.renderType)throw new Error("Invalid renderType.");if(!t.creativeType)throw new Error("Invalid creativeType.")}}])}(),Hl=function(){function t(e,n,i,r){var s;return mc(this,t),pc(s=fd(this,t,[Wc.LOAD_ERROR_AD_SELECTION_NO_FILL,Bc.NO_FILL,"Reached empty render type.",Gc.ERROR]),"eventNotifier",void 0),pc(s,"emptyAdsObserver",void 0),pc(s,"adElement",void 0),pc(s,"waterfallImpressionConfig",void 0),s.eventNotifier=e,s.emptyAdsObserver=n,s.adElement=i,s.waterfallImpressionConfig=r,s.fireEvents(),s.observeEmptyAdElement(),s}return ud(t,Nl),gc(t,[{key:"fireEvents",value:function(){this.eventNotifier.fireAckImpEvent(null,0),this.eventNotifier.fireRenderedImpressionEvent(null)}},{key:"observeEmptyAdElement",value:function(){if(this.adElement){const t=nl(this.waterfallImpressionConfig);this.emptyAdsObserver.observe(this.adElement,t,this.eventNotifier)}}}])}();const jl=()=>{const t=(()=>{try{if(window.naverappapi)return window.naverappapi;if(window.top&&window.top!==window&&window.top.naverappapi)return window.top.naverappapi}catch{}})();if(t&&t.checknetworkstatus&&"function"==typeof t.checknetworkstatus){const e=t.checknetworkstatus();return Object.values(Qc).includes(e)?e:null}return null},Wl=()=>{let t=!1;const e=jl();if(e===Qc.WIFI)return zc.WIFI;e===Qc.CELL&&(t=!0);const n=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(n?.type)switch(n.type){case Xc.ETHERNET:return zc.ETHERNET;case Xc.WIFI:return zc.WIFI;case Xc.CELLULAR:t=!0}if(t){if(n?.effectiveType)switch(n.effectiveType){case Yc.CELLULAR_2G:return zc.CELLULAR_2G;case Yc.CELLULAR_3G:return zc.CELLULAR_3G;case Yc.CELLULAR_4G:return zc.CELLULAR_4G}return zc.CELLULAR_UNKNOWN}return zc.UNKNOWN},Bl=t=>{const e=Object.keys(t).reduce(((e,n)=>{if(md(n))return e;const i=t[n];if(Array.isArray(i)){if(0===i.length)return e;{const t=i.filter((t=>!md(t)));e[n]=t}}else md(i)||(e[n]=i);return e}),{});return Object.keys(e).map((t=>`${Bd(String(t).trim())}:${Bd(Array.isArray(e[t])?e[t].map((t=>String(t).trim())).join("|"):String(e[t]).trim())}`)).join(",")},Gl=t=>{if(!t)return"";return Object.entries(t).reduce(((t,e)=>{const[n,i]=e,r=`${n}=${Bd(i)}`;return t?`${t}&${r}`:r}),"")};let ql=function(){return gc((function t(){mc(this,t),pc(this,"tfua",void 0),pc(this,"tfcd",void 0),pc(this,"privacySettingsConfig",void 0),this.tfua=void 0,this.tfcd=void 0,this.privacySettingsConfig={}}),[{key:"getPrivacyInfo",value:function(){return{iabtcstring:this.getTCString(),iabuspstring:this.getUSPString(),tfua:this.tfua,tfcd:this.tfcd}}},{key:"setPrivacySettingsConfig",value:function(t){this.privacySettingsConfig=t;const{underAgeOfConsent:e,childDirectedTreatment:n}=t;"boolean"==typeof e&&this.setTFUA(e),"boolean"==typeof n&&this.setTFCD(n)}},{key:"getPrivacySettingsConfig",value:function(){return this.privacySettingsConfig}},{key:"setTFUA",value:function(t){this.tfua=t?1:0}},{key:"setTFCD",value:function(t){this.tfcd=t?1:0}},{key:"getTCString",value:function(){try{let t;return window.__tcfapi("getTCData",2,((e,n)=>{try{n&&(t=e.tcString)}catch{}})),t}catch{return}}},{key:"getUSPString",value:function(){try{let t;return window.__uspapi("getUSPData",1,((e,n)=>{try{n&&(t=e.uspString)}catch{}})),t}catch{return}}}])}();const Kl=[{key:"googleImaSdk",type:"javascript",src:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}];let $l=function(){return gc((function t(){mc(this,t),pc(this,"resources",{}),Kl.forEach((t=>{this.resources[t.key]={loaded:!1,type:t.type,src:t.src}}))}),[{key:"load",value:function(t,e){return"javascript"===this.resources[t]?.type?this.loadJavaScript(t,e):"css"===this.resources[t]?.type?this.loadCss(t):Promise.reject(new Error(`Received invalid type, ${this.resources[t]?.type}`))}},{key:"saveAndLoad",value:function(t,e,n,i){return Ed(t)?Promise.reject(new Error(`Received invalid key, ${t}`)):Ed(n)?Promise.reject(new Error(`Received invalid src, ${n}`)):(this.resources[t]||(this.resources[t]={loaded:!1,type:e,src:n}),this.load(t,i))}},{key:"loadJavaScript",value:function(t,e="utf-8"){return new Promise(((n,i)=>{if(this.resources[t].loaded)n();else{const r=document.createElement("script");r.type="text/javascript",r.src=this.resources[t].src,r.async=!0,r.charset=e,r.onload=()=>{this.resources[t].loaded=!0,n()},r.onerror=()=>{this.resources[t].loaded=!1,i(new Error(`${this.resources[t].src} failed to load.`))},document.getElementsByTagName("head")[0].appendChild(r)}}))}},{key:"loadCss",value:function(t){return new Promise(((e,n)=>{if(this.resources[t].loaded)e();else{const i=document.createElement("link");i.rel="stylesheet",i.href=this.resources[t].src;const r=n=>{this.resources[t].loaded||(this.resources[t].loaded=!0,e())};i.onload=()=>r(),i.onerror=()=>{this.resources[t].loaded=!1,n(new Error(`${this.resources[t].src} failed to load.`))},document.getElementsByTagName("head")[0].appendChild(i)}}))}}])}(),zl=function(){return gc((function t(e){mc(this,t),pc(this,"storage",void 0),this.storage=window[e]}),[{key:"setItem",value:function(t,e){try{this.storage?.setItem(t,JSON.stringify(e))}catch(t){}}},{key:"getItem",value:function(t){const e=this.storage?.getItem(t);return e?JSON.parse(e):null}},{key:"removeItem",value:function(t){this.storage?.removeItem(t)}},{key:"setObjectItem",value:function(t,e,n){const i=this.getItem(t)??{};i[e]=n,this.setItem(t,i)}},{key:"getObjectItem",value:function(t,e){const n=this.getItem(t);return n?n[e]:null}},{key:"removeObjectItem",value:function(t,e){const n=this.getItem(t);n&&(delete n[e],this.setItem(t,n))}}])}(),Ql=function(){return gc((function t(){mc(this,t),pc(this,"innerMap",void 0),this.innerMap=new Map}),[{key:"set",value:function(t,e){this.innerMap.set(t,e)}},{key:"clear",value:function(){this.innerMap=new Map}},{key:"calculateNow",value:function(t){const e=this.innerMap.get(t);return e?Date.now()-e:0}},{key:"calculateFromTo",value:function(t,e){const n=this.innerMap.get(t),i=this.innerMap.get(e);return n&&i?i-n:0}}])}(),Xl=function(){return gc((function t(){mc(this,t)}),[{key:"getAppEnvironment",value:function(){try{return window.namAppSDKBridge?.getAppEnvironment()}catch(t){}}},{key:"updateNAC",value:function(t){try{window.namAppSDKBridge?.updateNAC(JSON.stringify({nac:t}))}catch(t){}}}],[{key:"isEnvironment",value:function(){return Boolean(window.namAppSDKBridge)}}])}(),Yl=function(){return gc((function t(){mc(this,t)}),[{key:"updateNAC",value:function(t){this.noop()}},{key:"getAppEnvironment",value:function(){}},{key:"noop",value:function(){}}])}(),Jl=function(){return gc((function t(){mc(this,t)}),[{key:"getAppEnvironment",value:async function(){try{const t=await(window.webkit?.messageHandlers?.namAppSDKBridge?.postMessage({method:"getAppEnvironment"}));if(t)return t}catch(t){}}},{key:"updateNAC",value:function(t){try{window.webkit?.messageHandlers?.namAppSDKBridge?.postMessage({method:"updateNAC",parameter:{nac:t}}).catch((()=>{}))}catch(t){}}},{key:"getSkadnEventHandler",value:function(){return new Zl}}],[{key:"isEnvironment",value:function(){return Boolean(window?.webkit?.messageHandlers?.namAppSDKBridge)}}])}(),Zl=function(){return gc((function t(){mc(this,t)}),[{key:"sendImpressionStart",value:function(t){try{window.webkit?.messageHandlers?.namAppSDKBridge?.postMessage({method:"adWasSeen",parameter:{skadn:t}}).catch((()=>{}))}catch(t){}}},{key:"sendAdClick",value:async function(t){try{const e=await(window.webkit?.messageHandlers?.namAppSDKBridge?.postMessage({method:"adWasClicked",parameter:{skadn:t}}));if(!e)return!1;const{result:n}=JSON.parse(e);return n}catch(t){return!1}}}])}(),th=function(){return gc((function t(){mc(this,t),pc(this,"appEnv",void 0),pc(this,"communicator",void 0),Xl.isEnvironment()?this.communicator=new Xl:Jl.isEnvironment()?this.communicator=new Jl:this.communicator=new Yl}),[{key:"init",value:async function(){try{const t=this.communicator.getAppEnvironment();if("string"==typeof t)this.setAppEnv(JSON.parse(t));else if(t instanceof Promise){const e=await t;e&&this.setAppEnv(JSON.parse(e))}}catch(t){}}},{key:"setAppEnv",value:function(t){this.appEnv=t}},{key:"getAppEnv",value:function(){return this.appEnv}},{key:"updateAppNAC",value:function(t){this.communicator.updateNAC(t)}},{key:"getSkadnEventHandler",value:function(){if(this.communicator instanceof Jl)return this.communicator.getSkadnEventHandler()}}],[{key:"isWebAppEnvironment",value:function(){return Xl.isEnvironment()||Jl.isEnvironment()}}])}(),eh=function(){return gc((function t(e){mc(this,t),pc(this,"baseURL",void 0),this.baseURL=e}),[{key:"get",value:async function(t,{cancelSource:e,params:n,timeout:i,browsingTopics:r}){const s=Gl(n);let o=this.baseURL+t;o+=(-1===o.indexOf("?")?"?":"&")+s;const a=r&&"function"==typeof document.browsingTopics,u=await fetch(o,{method:"GET",credentials:"include",...a&&{browsingTopics:!0},signal:AbortSignal.any([AbortSignal.timeout(i),e.getToken()])});return await u.json()}},{key:"post",value:async function(t,{cancelSource:e,params:n,timeout:i}){const r=this.baseURL+t,s=await fetch(r,{method:"POST",credentials:"include",signal:AbortSignal.any([AbortSignal.timeout(i),e.getToken()]),body:JSON.stringify(n)});return await s.json()}},{key:"getCancelSource",value:function(){return new nh}}])}(),nh=function(){return gc((function t(){mc(this,t),pc(this,"abortController",void 0),this.abortController=new AbortController}),[{key:"isCanceled",get:function(){return this.abortController.signal.aborted}},{key:"cancel",value:function(){this.abortController.abort()}},{key:"getToken",value:function(){return this.abortController.signal}}])}(),ih=function(){return gc((function t(e){mc(this,t),pc(this,"baseURL",void 0),this.baseURL=e}),[{key:"get",value:async function(t,{cancelSource:e,params:n,timeout:i}){const r=this.generateUrlWithParams(t,n);return this.createXhr("GET",r,e,i)}},{key:"generateUrlWithParams",value:function(t,e){const n=Gl(e);let i=this.baseURL+t;return i+=(-1===i.indexOf("?")?"?":"&")+n,i}},{key:"post",value:async function(t,{cancelSource:e,params:n,timeout:i}){const r=this.baseURL+t;return this.createXhr("POST",r,e,i,JSON.stringify(n))}},{key:"createXhr",value:function(t,e,n,i,r){return new Promise(((s,o)=>{let a=new XMLHttpRequest;a.open(t,e,!0),a.withCredentials=!0,a.timeout=i;const u=()=>{a&&(o(new Error("Request canceled")),a.abort(),a=null)},c=()=>{n.unsubscribe(u),a=null};a.onload=()=>{a&&(a.status>=200&&a.status<300?s(JSON.parse(a.responseText)):o(new Error(`Request failed with status code ${a.status}`)),c())},a.onabort=()=>{a&&(o(new Error("Request aborted")),c())},a.onerror=()=>{a&&(o(new Error("Network Error")),c())},a.ontimeout=()=>{a&&(o(new Error(`timeout of ${a.timeout}ms exceeded`)),c())},n.subscribe(u),a.send(r)}))}},{key:"getCancelSource",value:function(){return new rh}}])}(),rh=function(){return gc((function t(){mc(this,t),pc(this,"_isCanceled",void 0),pc(this,"listeners",void 0),this._isCanceled=!1}),[{key:"subscribe",value:function(t){this._isCanceled?t():this.listeners?this.listeners.push(t):this.listeners=[t]}},{key:"unsubscribe",value:function(t){if(!this.listeners)return;const e=this.listeners.findIndex((e=>e===t));-1!==e&&this.listeners.splice(e,1)}},{key:"isCanceled",get:function(){return this._isCanceled}},{key:"cancel",value:function(){this._isCanceled=!0,this.listeners?.forEach((t=>{t()})),this.listeners=void 0}}])}(),sh=function(){function t(e,n){var i;return mc(this,t),pc(i=fd(this,t,[e]),"tunnelManager",void 0),i.tunnelManager=n,i}return ud(t,ih),gc(t,[{key:"get",value:async function(t,{cancelSource:e,params:n,timeout:i}){const r=await this.tunnelManager.getTunnelUrl(this.generateUrlWithParams(t,n));return this.createXhr("GET",r,e,i)}}])}(),oh=function(){return gc((function t(e){mc(this,t),pc(this,"httpAdapter",void 0),pc(this,"baseUrl",void 0),this.baseUrl=e,this.httpAdapter=this.shouldUseXHRAdapter()?new ih(e):new eh(e)}),[{key:"setTunnelManager",value:function(t){t.isValid()&&(this.httpAdapter=new sh(this.baseUrl,t))}},{key:"shouldUseXHRAdapter",value:function(){return"function"!=typeof window?.fetch||"function"!=typeof AbortSignal?.any}},{key:"get",value:async function(t,e){return this.httpAdapter.get(t,e)}},{key:"post",value:async function(t,e){return this.httpAdapter.post(t,e)}},{key:"getCancelSource",value:function(){return this.httpAdapter.getCancelSource()}}])}(),ah=function(){return gc((function t({resourceLoader:e,adMuteLibUrl:n,creativeType:i,adChoice:r,initialAdMuteState:s}){mc(this,t),pc(this,"resourceLoader",void 0),pc(this,"adMuteLibUrl",void 0),pc(this,"creativeType",void 0),pc(this,"adChoice",void 0),pc(this,"initialAdMuteState",void 0),pc(this,"controller",void 0),pc(this,"commandProcessor",void 0),this.resourceLoader=e,this.adMuteLibUrl=n,this.creativeType=i,this.adChoice=r,this.initialAdMuteState=s??sd.INIT,this.commandProcessor=new fl}),[{key:"initAdMute",value:async function(t,e,n,i){try{if(!this.isAdMuteLibLoadable())return;this.isAdMuteLibLoaded()||await this.loadAdMuteLib(),this.renderAdMute(),this.addEventListener(id.AD_MUTE_COMPLETED,t),this.addEventListener(id.MUTE_STATE_CHANGED,e),this.addEventListener(id.TOUCH_STARTED,n),this.addEventListener(id.TOUCH_ENDED,i),this.commandProcessor.forceExecuteCommands()}catch(t){}}},{key:"isAdMuteLibLoaded",value:function(){try{return Boolean(this.adMuteLib)}catch{return!1}}},{key:"isAdMuteLibLoadable",value:function(){return Boolean(this.adChoice?.mute||this.adChoice?.priv)}},{key:"adMuteLib",get:function(){const t=window.gladAdMute;if(!t)throw new Error("AdMute is not loaded.");return t}},{key:"addEventListener",value:function(t,e){this.commandProcessor.push((()=>{this.controller?.addEventListener(t,e)}))}},{key:"setAdTheme",value:function(t){this.commandProcessor.push((()=>{this.adMuteLib.setAdTheme(t)}))}},{key:"destroy",value:function(){this.commandProcessor.push((()=>{this.controller?.destroy()}))}},{key:"shouldRemoveAdMarkLegacy",value:function(){return Boolean(this.adChoice?.mute||this.adChoice?.priv)}},{key:"setPrivacyClickHandler",value:function(t){this.commandProcessor.push((()=>{this.controller?.setPrivacyClickHandler(t)}))}}],[{key:"replaceAdmToRemoveAdMarkLegacy",value:function(t){return t.replace(/data-gfp-role=(\\?"|\\?')adMarkLegacy(\\?"|\\?')/g,"$& style=$1display:none;$2")}}])}(),uh=function(){function t(e){var n;return mc(this,t),pc(n=fd(this,t,[e]),"adDivId",void 0),n.adDivId=e.adDivId,n}return ud(t,ah),gc(t,[{key:"loadAdMuteLib",value:function(){return this.resourceLoader.saveAndLoad("adMute","javascript",this.adMuteLibUrl)}},{key:"renderAdMute",value:function(){this.controller=this.adMuteLib.createAdMuteController({muteUrl:this.adChoice?.mute,privacyUrl:this.adChoice?.priv,adDivId:this.adDivId,creativeType:this.creativeType,runtimeType:rd.NDP_JS,muteState:this.initialAdMuteState}),this.controller.render()}},{key:"setAdThemeByHostMeta",value:function(t){if(!t)return;const e=t.get("theme");e&&"string"==typeof e&&this.setAdTheme(e)}}])}(),ch=function(){return gc((function t({httpClient:e,adCallParams:n,timeout:i,cancelSource:r}){mc(this,t),pc(this,"httpClient",void 0),pc(this,"adCallParams",void 0),pc(this,"timeout",void 0),pc(this,"cancelSource",void 0),this.httpClient=e,this.adCallParams=n,this.timeout=i,this.cancelSource=r}),[{key:"execute",value:async function(){const t=new Ql;t.set("request",Date.now());try{const e=await this.httpClient.get("/gfp/v1",{params:this.adCallParams,timeout:this.timeout,cancelSource:this.cancelSource,browsingTopics:!0});if(!e)throw new Nl(Wc.LOAD_ERROR_WATERFALL_LIST_REQUEST_FAILED,Bc.INVALID_WATERFALL_RESPONSE,"Empty waterfall response",Gc.ERROR);return t.set("response",Date.now()),{adResponse:e,timeMap:t}}catch(t){if(t instanceof Nl)throw t;const e=this.cancelSource?.isCanceled;if(e)return;throw Nl.fromError(t,Wc.LOAD_ERROR_WATERFALL_LIST_REQUEST_FAILED,Bc.NETWORK_ERROR)}}}])}(),dh=function(){return gc((function t(e,n){mc(this,t),pc(this,"adUnitId",void 0),pc(this,"adElementId",void 0),pc(this,"cancelSource",void 0),this.adUnitId=e,this.adElementId=n}),[{key:"build",value:function(){const t=this.buildAdRequestProps();return{adRequest:new ch(t),cancelSource:t.cancelSource}}},{key:"buildAdCallParams",value:function(){const{appName:t,appVersion:e,webAppVersion:n,yob:i,gender:r,uct:s,uid:o,ai:a,iv:u}=this.getGlobalConfig(),{name:c,version:d}=this.getSdkInfo(),l=this.getCustomParams(),h=this.getPrivacyParams(),f=(t||window.location?.hostname)??"",v=document.referrer?.substring(0,255)??"",p=window.location?.href?.substring(0,255)??"",{tfua:E,tfcd:g}=h,m=1===E||1===g,y=th.isWebAppEnvironment()?1:0,A={u:this.adUnitId,xdid:this.adElementId,p:Bl(l),an:f,av:e,wv:n,yob:i,g:r,uct:s,uid:o,r:v,c:p,sn:c,sv:d,nt:Wl(),iv:u||gl.getIV(),ivt:gl.getIVT(u),sa:Zc.DISABLED,rui:Qd(),br:y,...h};return m||(A.ai=a),A}},{key:"buildAdRequestProps",value:function(){const{requestTimeout:t}=this.getGlobalConfig(),e=Object.entries(this.buildAdCallParams()).reduce(((t,[e,n])=>(md(n)||(t[e]=n),t)),{}),n=this.getHttpClient(),i=n.getCancelSource();return{adCallParams:e,httpClient:n,timeout:t,cancelSource:i}}}])}(),lh=function(){return gc((function t(){mc(this,t),pc(this,"emptyAds",void 0),pc(this,"observer",void 0),pc(this,"intersectionObserverCallback",(t=>{t.forEach((t=>{const e=this.emptyAds.get(t.target);if(!e)return;const{viewableImpressionConfig:n,eventNotifier:i,timer:r}=e;if(t.isIntersecting&&t.intersectionRatio>=n.ratio){if(r)return;const s=window.setTimeout((()=>{i.fireViewableImpressionEvent(null),this.unobserve(t.target)}),n.ms);this.emptyAds.set(t.target,{...e,timer:s})}else window.clearTimeout(r),this.emptyAds.set(t.target,{...e,timer:void 0})}))})),this.emptyAds=new WeakMap,this.observer=new IntersectionObserver(this.intersectionObserverCallback,{threshold:[0,.5,1]})}),[{key:"observe",value:function(t,e,n){const i=nl(e);this.emptyAds.set(t,{viewableImpressionConfig:i,eventNotifier:n,timer:void 0}),this.observer.observe(t)}},{key:"unobserve",value:function(t){this.emptyAds.has(t)&&(this.emptyAds.delete(t),this.observer.unobserve(t))}}])}();const hh=()=>{let t="null"===window.origin?null:window.origin;return Ud()&&(t=t??window.location?.origin),t??"*"},fh=(t,e)=>t?e:hh();function vh(t,e,n,i){var r=or(sr(t.prototype),e,n);return"function"==typeof r?function(t){return r.apply(n,t)}:r}function ph(t,e,n){return e=sr(e),yc(t,Eh()?Reflect.construct(e,n||[],sr(t).constructor):e.apply(t,n))}function Eh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Eh=function(){return!!t})()}var gh;!function(t){t[t.ADAPTER_PICKED=0]="ADAPTER_PICKED",t[t.AD_LOADED=1]="AD_LOADED",t[t.AD_RENDERED=2]="AD_RENDERED",t[t.AD_CLICKED=3]="AD_CLICKED",t[t.AD_IMPRESSED=4]="AD_IMPRESSED",t[t.AD_MUTE_COMPLETED=5]="AD_MUTE_COMPLETED",t[t.AD_MUTE_STATE_CHANGED=6]="AD_MUTE_STATE_CHANGED",t[t.CREATIVE_META_CHANGED=7]="CREATIVE_META_CHANGED",t[t.LOAD_ERROR=8]="LOAD_ERROR",t[t.START_ERROR=9]="START_ERROR"}(gh||(gh={}));let mh=function(){function t(){return mc(this,t),ph(this,t,arguments)}return ud(t,ul),gc(t)}();const yh=Symbol(),Ah=Object.freeze({importAdapter:yh});let Sh=function(){return gc((function t({store:e,adUnitId:n,adSlotElementId:i,customParam:r,ad:s,adExtraData:o,eventNotifier:a,adSlotListener:u,isPersist:c}){mc(this,t),pc(this,"store",void 0),pc(this,"adUnitId",void 0),pc(this,"adSlotElementId",void 0),pc(this,"customParam",void 0),pc(this,"ad",void 0),pc(this,"adExtraData",void 0),pc(this,"eventNotifier",void 0),pc(this,"adSlotListener",void 0),pc(this,"isPersist",void 0),pc(this,"adContainer",void 0),pc(this,"visibilityObserver",void 0),pc(this,"currState",Fc.PICKED),pc(this,"timeMap",void 0),pc(this,"adapterLoadWatcher",void 0),pc(this,"renderConfig",void 0),pc(this,"clickHandler",void 0),pc(this,"exposureChangeHandler",(({isIntersecting:t,intersectionRatio:e})=>{this.adExposureChanged(t,e)})),this.store=e,this.adUnitId=n,this.adSlotElementId=i,this.customParam=r,this.ad=s,this.adExtraData=o,this.eventNotifier=a,this.adSlotListener=u,this.isPersist=c,this.adContainer=document.getElementById(i);const d=nl(this.adExtraData.waterfallResponseConfig?.imp);try{this.visibilityObserver=new ll(this.adContainer,d)}catch{this.visibilityObserver=null}this.timeMap=new Ql,this.timeMap.set("picked",Date.now()),this.adapterLoadWatcher=new xl(s)}),[{key:"getAdContext",value:function(){return this.ad.adInfo.adContext}},{key:"getAdProviderName",value:function(){return this.ad.adProviderName}},{key:"getCreativeType",value:function(){return this.ad.creativeType}},{key:"getNativeAdVisualId",value:function(){return this.ad?.adInfo?.adStyle?.visual?.id}},{key:"setRenderConfig",value:function(t){this.renderConfig=t}},{key:"setClickHandler",value:function(t){this.clickHandler=t}},{key:"invokeClickHandler",value:async function(t,e,n){const i=this.clickHandler&&"function"==typeof this.clickHandler,r=this.store.appSDKCommunicator.getSkadnEventHandler();if(this.ad.adInfo?.skadn&&r){if(await r.sendAdClick(this.ad.adInfo.skadn))return;if(i)this.clickHandler?.(t,e,n);else{const e=document.createElement("a");e.href=t,e.target="_blank",e.click()}}else i&&this.clickHandler?.(t,e,n)}},{key:"requestAd",value:async function(){this.changeState(Fc.REQUESTED);try{this.onCheckAndSetAdParam()}catch(t){const e=Nl.fromError(t,Wc.INTERNAL_ERROR,Bc.RECEIVED_INVALID_PROPERTY);throw this.adError(e),e}try{await Promise.all([this.adapterLoadWatcher.start(),this.loadAdapterAd()])}catch(t){const e=Nl.fromError(t,Wc.LOAD_ERROR,Bc.UNSPECIFIED);throw this.adError(e),e}}},{key:"onCheckAndSetAdParam",value:function(){if(!this.adContainer)throw new Error(`Not found '${this.adSlotElementId}' Element.`);this.adContainer.innerHTML=""}},{key:"savePersistAd",value:function(){const{globalConfig:t,persistenceStore:e}=this.store;t.enablePersistAd&&e.setAd(`${Gd()}_${this.adSlotElementId}`,{ad:this.ad,adExtraData:this.adExtraData})}},{key:"handleExposureChangeSetting",value:function(t){t?this.visibilityObserver?.addEventListener(ed.EXPOSURE_CHANGED,this.exposureChangeHandler):this.visibilityObserver?.removeEventListener(ed.EXPOSURE_CHANGED,this.exposureChangeHandler)}},{key:"changeState",value:function(t){this.currState=t,this.store.logger.changeState(t,this.adSlotElementId)}},{key:"adLoaded",value:function(){if(this.changeState(Fc.LOADED),this.timeMap.set("loaded",Date.now()),this.adapterLoadWatcher.onLoaded(),!this.isPersist){const t=this.timeMap.calculateFromTo("picked","loaded");this.eventNotifier?.fireAckImpEvent(this.getCreativeType(),t,this.getSize()),this.adSlotListener.dispatch(gh.AD_LOADED)}this.store.extensionBridge.sendAdLoadEvent({adSlotElementId:this.adSlotElementId,adUnitId:this.adUnitId,encrypted:this.ad.encrypted})}},{key:"adRendered",value:function(t=!1){this.changeState(Fc.RENDERED),this.timeMap.set("rendered",Date.now()),t||this.adExtraData.renderedImpressed||(this.adRenderedImpressed(),this.adExtraData.renderedImpressed=!0,this.savePersistAd()),this.resetContainerHeight(),this.adSlotListener.dispatch(gh.AD_RENDERED)}},{key:"adClicked",value:function(t){this.eventNotifier?.fireClickEvent(this.getCreativeType(),this.getSize()),this.store.extensionBridge.sendAdClickEvent({adSlotElementId:this.adSlotElementId,adUnitId:this.adUnitId,encrypted:this.ad.encrypted}),this.adSlotListener.dispatch(gh.AD_CLICKED,{slotIndex:t})}},{key:"adRenderedImpressed",value:function(){this.eventNotifier?.fireRenderedImpressionEvent(this.getCreativeType(),this.getSize()),this.store.extensionBridge.sendAdRenderEvent({adSlotElementId:this.adSlotElementId,adUnitId:this.adUnitId,encrypted:this.ad.encrypted})}},{key:"adViewableImpressed",value:function(){if(this.eventNotifier?.fireViewableImpressionEvent(this.getCreativeType(),this.getSize()),this.adSlotListener.dispatch(gh.AD_IMPRESSED),this.store.extensionBridge.sendAdViewableImpressEvent({adSlotElementId:this.adSlotElementId,adUnitId:this.adUnitId,encrypted:this.ad.encrypted}),this.ad.adInfo.skadn){const t=this.store.appSDKCommunicator.getSkadnEventHandler();t?.sendImpressionStart(this.ad.adInfo.skadn)}}},{key:"adError",value:function(t){switch(this.store.neloLogger.logMethodFrequently({method:`DisplayAdAdapter.adError(${Fc[this.currState]})`,stace:t.errorMessage,sampleRate:1/60*.01}),this.store.extensionBridge.sendAdErrorEvent({adSlotElementId:this.adSlotElementId,adUnitId:this.adUnitId,encrypted:this.ad.encrypted},{message:t.errorMessage,state:Fc[this.currState]}),this.currState){case Fc.PICKED:case Fc.REQUESTED:this.adapterLoadWatcher.onError(t),this.eventNotifier.fireLoadErrorEvent(this.timeMap.calculateNow("picked"),t);break;case Fc.LOADED:case Fc.AD_START_REQUESTED:case Fc.RENDERED:this.eventNotifier.fireStartErrorEvent(this.timeMap.calculateNow("rendered"),t),this.adSlotListener.dispatch(gh.START_ERROR,{error:t});case Fc.DESTROYED:}}},{key:"adExposureChanged",value:function(t,e){}},{key:"clearVisibilityObserver",value:function(){this.visibilityObserver?.stop()}},{key:"fixContainerHeight",value:function(){if(this.currState===Fc.RENDERED&&null===this.adContainer?.getAttribute(Rh)){const t=this.adContainer.style.height;this.adContainer.setAttribute(Rh,t),this.adContainer.style.height=this.adContainer.getBoundingClientRect().height+"px"}}},{key:"resetContainerHeight",value:function(){if(!this.adContainer)return;const t=this.adContainer.getAttribute(Rh);null!==t&&(this.adContainer.style.height=t,this.adContainer.removeAttribute(Rh))}},{key:"destroy",value:function(){for(this.changeState(Fc.DESTROYED),this.adapterLoadWatcher.destroy(),this.clearVisibilityObserver();this.adContainer?.firstChild;)this.adContainer.removeChild(this.adContainer.firstChild)}}])}();const Rh="data-gfp-original-height";let Ih=function(){function t(e){var n;return mc(this,t),pc(n=ph(this,t,[e]),"isFluid",void 0),n.isFluid=n.ad.layoutType===Kc.FLUID,n}return ud(t,Sh),gc(t,[{key:"adRendered",value:function(e=!1){vh(t,"adRendered",this)([e]),this.adExtraData.viewableImpressed||this.visibilityObserver?.addEventListener(ed.VIEWABLE_IMPRESSED,(()=>{this.adViewableImpressed(),this.adExtraData.viewableImpressed=!0,this.savePersistAd()})),this.visibilityObserver?.start()}}])}(),Dh=function(){function t(e){return mc(this,t),ph(this,t,[e])}return ud(t,Sh),gc(t,[{key:"getSize",value:function(){}},{key:"adLoaded",value:function(){if(vh(t,"adLoaded",this)([]),!this.isPersist){const t=this.timeMap.calculateFromTo("picked","loaded");this.eventNotifier?.getAllSubEventNotifiers()?.forEach((e=>{e.fireAckImpEvent(this.getCreativeType(),t,this.getSize())}))}}},{key:"adRendered",value:function(e=!1){vh(t,"adRendered",this)([e]),this.adExtraData.viewableImpressed||this.visibilityObserver?.addEventListener(ed.VIEWABLE_IMPRESSED,(()=>{this.adViewableImpressed(),this.adExtraData.viewableImpressed=!0,this.savePersistAd()})),this.adExtraData.viewable1pxImpressed||this.visibilityObserver?.addEventListener(ed.IMPRESSED_1PX,(()=>{this.adViewable1pxImpressed(),this.adExtraData.viewable1pxImpressed=!0,this.savePersistAd()})),this.adExtraData.viewable100Impressed||this.visibilityObserver?.addEventListener(ed.IMPRESSED_100P,(()=>{this.adViewable100Impressed(),this.adExtraData.viewable100Impressed=!0,this.savePersistAd()})),this.adExtraData.viewable100pImpressed||this.visibilityObserver?.addEventListener(ed.IMPRESSED_100P_WITH_DURATION_1S,(()=>{this.adViewable100pImpressed(),this.adExtraData.viewable100pImpressed=!0,this.savePersistAd()})),this.visibilityObserver?.start()}},{key:"adViewable1pxImpressed",value:function(){this.eventNotifier?.fireVImp1pxEvent()}},{key:"adViewable100Impressed",value:function(){this.eventNotifier?.fireVImp100Event()}},{key:"adViewable100pImpressed",value:function(){this.eventNotifier?.fireVImp100pEvent()}}])}(),Th=function(){return gc((function t(e,n){mc(this,t),pc(this,"version",void 0),pc(this,"phase",void 0),pc(this,"enabled",void 0),this.version=e,this.phase=n,this.enabled=!1}),[{key:"tryHandshake",value:function(){const t=e=>{"gfp-ad-extension-pong"===e.data.type&&(this.enable(),window.removeEventListener("message",t))};window.addEventListener("message",t),window.postMessage({type:"gfp-ad-extension-ping",data:{version:this.version,phase:this.phase}})}},{key:"enable",value:function(){this.enabled=!0}},{key:"sendWaterfallResponse",value:function(t){this.enabled&&window.postMessage({type:"gfp-ad-extension-waterfall",data:{waterfall:t,version:this.version,phase:this.phase}})}},{key:"sendAdLoadEvent",value:function(t){this.enabled&&window.postMessage({type:"gfp-ad-extension-ad-loaded",data:t})}},{key:"sendAdRenderEvent",value:function(t){this.enabled&&window.postMessage({type:"gfp-ad-extension-ad-rendered",data:t})}},{key:"sendAdClickEvent",value:function(t){this.enabled&&window.postMessage({type:"gfp-ad-extension-ad-clicked",data:t})}},{key:"sendAdViewableImpressEvent",value:function(t){this.enabled&&window.postMessage({type:"gfp-ad-extension-ad-viewable-impressed",data:t})}},{key:"sendAdErrorEvent",value:function(t,e){this.enabled&&window.postMessage({type:"gfp-ad-extension-ad-error",data:t,error:e})}}])}();const kh={production:{url:"https://kr-col-ext.nelo.navercorp.com/_store",txtToken:"118cdcf6554c4b0ea95c92784cf3e054",projectName:"Pcf3b65_AdSDKDev-web-method"},development:{url:"https://dev-col-tcp.nelo.navercorp.com/_store",txtToken:"5b0f2d6f111f4243a6b2a7f59ec06df4",projectName:"Pecb3ef_AdSDKWeb"}};let bh=function(){return gc((function t(e,n){mc(this,t),pc(this,"phase",void 0),pc(this,"version",void 0),pc(this,"isSelected",void 0),pc(this,"hitMap",{}),this.phase=e,this.version=n,this.isSelected=Math.random()<1e-5}),[{key:"log",value:function(t){const{projectName:e,txtToken:n,url:i}="production"===this.phase||"staging"===this.phase?kh.production:kh.development;try{window.navigator.sendBeacon(i,JSON.stringify({txtToken:n,projectName:e,projectVersion:this.version,hostname:window.location.hostname,href:window.location.href,phase:this.phase,ua:navigator.userAgent,...t})),this.hitMap[t.method]=!0}catch(t){}}},{key:"logMethodUniquely",value:function(t){const e="production"!==this.phase,n=this.isSelected,i=e||n;!this.hitMap[t.method]&&i&&this.log(t)}},{key:"logMethodFrequently",value:function(t){const e="production"!==this.phase,n="number"==typeof t.sampleRate&&Math.random()<t.sampleRate;(e||n)&&this.log(t)}}])}();const _h="gladsdk_stored_ad",wh="gladsdk_bounce_back_meta";let Lh=function(){function t(){return mc(this,t),ph(this,t,["sessionStorage"])}return ud(t,zl),gc(t,[{key:"setAd",value:function(t,e){const n={regDate:new Date,savedAd:e};this.setObjectItem(_h,t,n)}},{key:"getAd",value:function(t){const e=this.getObjectItem(_h,t);if(!e)return null;const n=e.regDate;return new Date((new Date).setHours(0,0,0,0))>new Date(n)?null:e.savedAd}},{key:"setBounceBackUrls",value:function(t){md(t)||this.setItem(wh,{bounceUrls:t,timestamp:Number(new Date)})}},{key:"getBounceBackMeta",value:function(){return this.getItem(wh)}},{key:"clearBounceBackMeta",value:function(){this.removeItem(wh)}}])}(),Oh=function(){return gc((function t(e,n="production"){mc(this,t),pc(this,"globalConfig",void 0),pc(this,"phase",void 0),pc(this,"globalEnv",void 0),pc(this,"thirdPartyAdapters",void 0),pc(this,"resourceLoader",void 0),pc(this,"persistenceStore",void 0),pc(this,"emptyAdsObserver",void 0),pc(this,"privacyManager",void 0),pc(this,"hostMeta",void 0),pc(this,"forceSafeFrame",void 0),pc(this,"customParam",void 0),pc(this,"segmentForABT",void 0),pc(this,"contentId",void 0),pc(this,"appSDKCommunicator",void 0),pc(this,"debug",void 0),pc(this,"logger",void 0),pc(this,"neloLogger",void 0),pc(this,"extensionBridge",void 0),this.globalConfig=e,this.phase=n,this.globalEnv=this.getGlobalEnv(),this.thirdPartyAdapters=[],this.resourceLoader=new $l,this.persistenceStore=new Lh,this.emptyAdsObserver=new lh,this.privacyManager=new ql,this.hostMeta=new Map,this.forceSafeFrame=!1,this.debug=!1,this.extensionBridge=new Th(this.globalEnv.version,this.phase),this.logger=this.getLogger(),this.appSDKCommunicator=new th,this.appSDKCommunicator.init(),this.neloLogger=new bh(this.phase,this.globalEnv.version)}),[{key:"setGlobalConfig",value:function(t){this.globalConfig=Object.assign({},this.globalConfig,t)}},{key:"setPhase",value:function(t){this.phase=t,this.debug=!0,this.globalEnv=this.getGlobalEnv(!0)}},{key:"setForceSafeFrame",value:function(t){this.forceSafeFrame=t}},{key:"setCustomParam",value:function(t,e){const n=this.customParam;this.customParam=Object.assign({},n,{[t]:e})}},{key:"setPrivacySettings",value:function(t){this.privacyManager.setPrivacySettingsConfig(t)}},{key:"setSegmentForABT",value:function(t){this.segmentForABT=t}},{key:"setContentId",value:function(t){this.contentId=t}},{key:"addThirdPartyAdapter",value:function(t){this.thirdPartyAdapters.push(t)}}])}();var Ch;!function(t){t[t.NOT_DETERMINED=0]="NOT_DETERMINED",t[t.RESTRICTED=1]="RESTRICTED",t[t.DENIED=2]="DENIED",t[t.AUTHORIZED=3]="AUTHORIZED"}(Ch||(Ch={}));var Mh,Ph;function Nh(t,e,n,i){var r=or(sr(t.prototype),e,n);return"function"==typeof r?function(t){return r.apply(n,t)}:r}function Uh(t,e){xh(t,e),e.add(t)}function Fh(t,e,n){xh(t,e),e.set(t,n)}function xh(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vh(t,e){return t.get(jh(t,e))}function Hh(t,e,n){return t.set(jh(t,e),n),n}function jh(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Wh(t,e,n){return e=sr(e),yc(t,Bh()?Reflect.construct(e,n||[],sr(t).constructor):e.apply(t,n))}function Bh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Bh=function(){return!!t})()}!function(t){t.PLAY="play",t.PAUSE="pause",t.ENDED="ended",t.MUTE="mute"}(Mh||(Mh={}));const Gh=Xd((()=>atob(String("aHR0cHM6Ly90ZXN0LnRpdmFuLm5hdmVyLmNvbQ=="))))||"",qh=Xd((()=>atob(String("aHR0cHM6Ly9iZXRhLW5hbS52ZXRhLm5hdmVyLmNvbQ=="))))||"",Kh=Xd((()=>atob(String("aHR0cHM6Ly90ZXN0LWltZy50dmV0YS5uYXZlci5uZXQ="))))||"",$h=t=>{switch(t){case"staging":case"production":return"https://ssl.pstatic.net/melona";case"test":case"local":case"demo":return Kh;default:return String("https://ssl.pstatic.net/tveta/libs/glad/prod")}},zh=t=>{switch(t){case"staging":case"production":return"https://tivan.naver.com";default:return Gh}},Qh=(t,e)=>{if(!e)return String("https://nam.veta.naver.com");switch(t){case"test":case"test2":return qh;case"staging":case"production":return"https://nam.veta.naver.com";default:return String("https://nam.veta.naver.com")}},Xh=t=>{const e=$h(t);switch(t){case"test":return`${e}/libs/glad_admute/test/glad-admute.js`;case"staging":return`${e}/libs/glad_admute/stg/glad-admute.js`;case"production":return`${e}/libs/glad_admute/prod/glad-admute.js`;default:return`${Kh}/libs/glad_admute/test/glad-admute.js`}},Yh=t=>{const e=$h(t);switch(t){case"test":case"staging":case"production":return`${e}/libs/gfp-nac-module/synchronizer.js`;default:return`${Kh}/libs/gfp-nac-module/synchronizer.js`}},Jh=(t,e)=>{const n=String("3.4.2"),i="https://ssl.pstatic.net/tveta/libs/glad/prod/3.4.2",r=new URL(i).origin;return Object.freeze({version:n,phase:t,gfp:{chunkUrl:i,cdnDomain:r,adCallUrl:Qh(t,e),cdnUrl:$h(t),safeFrameContainerUrl:`${i}/res/r.html`,adMuteLibUrl:Xh(t),nacModuleUrl:Yh(t),devtoolsUrl:`${i}/devtools/index.html`},tivan:{url:zh(t)}})};let Zh=function(){return gc((function t(){mc(this,t)}),null,[{key:"getLogger",value:function(){return this.universalLogger}},{key:"addLogger",value:function(t){const e=new t(Jh("production"));return this.loggers.push(e),this.cmd.forceExecuteCommands(),e}},{key:"callLoggerMethod",value:function(t,...e){this.cmd.push((()=>{for(const n of this.loggers){const i=n[t];"function"==typeof i&&i.apply(n,e)}}))}}])}();Ph=Zh,pc(Zh,"universalLogger",void 0),pc(Zh,"loggers",void 0),pc(Zh,"cmd",void 0),Ph.universalLogger=new Proxy({},{get:(t,e)=>(...t)=>Ph.callLoggerMethod(e,...t)}),Ph.loggers=[],Ph.cmd=new fl;const tf=Zh.getLogger(),ef={requestTimeout:6e4,language:"en",appName:window.location?.hostname,enablePersistAd:!1,maxDedupReqCount:-1,adViewabilityMeasureType:"VIEWABLE_NORMAL"};const nf=new(function(){function t(){return mc(this,t),Wh(this,t,[ef,"production"])}return ud(t,Oh),gc(t,[{key:"getGlobalEnv",value:function(t=!1){return Jh(this.phase,t)}},{key:"getLogger",value:function(){return tf}}])}()),rf=()=>nf;var sf;!function(t){t[t.IDLE=1]="IDLE",t[t.LOAD_REQUESTED=2]="LOAD_REQUESTED",t[t.LOADED=4]="LOADED",t[t.CLICKED=8]="CLICKED",t[t.IMPRESSED=16]="IMPRESSED",t[t.FAILED_TO_LOAD=32]="FAILED_TO_LOAD",t[t.OCCURRED_ERROR=64]="OCCURRED_ERROR",t[t.DESTROYED=128]="DESTROYED"}(sf||(sf={}));let of=function(){return gc((function t(e){mc(this,t),pc(this,"adDeduplicationManager",void 0),pc(this,"maxDedupReqCount",void 0),pc(this,"exclusionCriteriaList",void 0),this.adDeduplicationManager=e,this.maxDedupReqCount=this.adDeduplicationManager.maxDedupReqCount,this.exclusionCriteriaList=this.adDeduplicationManager.exclusionCriteriaList,this.dequeue()}),[{key:"displayAds",value:async function(t){for await(const e of t)await this.displayAd(e)}},{key:"restoreAds",value:async function(t){await Promise.all(t.map((t=>this.restoreAd(t))))}},{key:"displayAd",value:async function(t){tf.dedupDisplayAd(t.adSlot.getAdSlotElementId()),t.hasState(sf.LOAD_REQUESTED)||await t.loadAd(this)}},{key:"restoreAd",value:async function(t){if(tf.dedupRestoreAd(t.adSlot.getAdSlotElementId()),t.hasState(sf.LOAD_REQUESTED))return;const{adSlot:e}=t,n=e.getAdSlotElementId();if(!document.getElementById(n))return;const{persistenceStore:i,globalConfig:r}=rf(),s=i.getAd(`${Gd()}_${n}`),{enablePersistAd:o}=r;o&&s&&await t.loadAdWithPersistData(s)}},{key:"accumulateExclusionCriteria",value:function(t){if(!t)return;const{advertiserDomains:e,adDuplicationKeys:n}=t;md(e)&&md(n)||(this.exclusionCriteriaList.push(t),this.adDeduplicationManager.accumulateExclusionCriteria(t),this.dequeue())}},{key:"mergeIntoExclusionCriteria",value:function(){const t=[],e=[];return this.exclusionCriteriaList.forEach((n=>{t.push(...n.adDuplicationKeys),e.push(...n.advertiserDomains)})),{adDuplicationKeys:Kd(t),advertiserDomains:Kd(e)}}},{key:"dequeue",value:function(){if(-1!==this.maxDedupReqCount)for(;this.exclusionCriteriaList.length>this.maxDedupReqCount;)this.exclusionCriteriaList.shift()}}])}();var af=new WeakMap,uf=new WeakMap,cf=new WeakMap,df=new WeakMap,lf=new WeakMap,hf=new WeakSet;let ff=function(){return gc((function t({dedupReqId:e,maxDedupReqCount:n,getAdSlotManager:i}){mc(this,t),Uh(this,hf),pc(this,"dedupReqId",void 0),pc(this,"maxDedupReqCount",void 0),Fh(this,af,void 0),Fh(this,uf,void 0),Fh(this,cf,void 0),Fh(this,df,void 0),Fh(this,lf,void 0),this.dedupReqId=e,this.maxDedupReqCount=n,Hh(af,this,[]),Hh(uf,this,2*n),Hh(cf,this,[]),Hh(df,this,new pd),Vh(df,this).forceExecuteCommands(),Hh(lf,this,i)}),[{key:"exclusionCriteriaList",get:function(){return Vh(cf,this).slice()}},{key:"displayAds",value:function(t){Vh(df,this).push((async()=>{const e=[];for(const n of t){const t=Vh(lf,this).call(this,n);if(!t)continue;if(t.hasState(sf.LOAD_REQUESTED)){const{neloLogger:e}=rf();e.logMethodUniquely({method:"AdDeduplicationManager.displayAds (AdSlotState.LOAD_REQUESTED)",stace:(new Error).stack}),t.invalidate()}const i=Vh(af,this).findIndex((t=>n.getAdSlotElementId()===t.getAdSlotElementId()));-1===i?Vh(af,this).push(n):Vh(af,this).splice(i,1,n),e.push(t)}if(md(e))return;const n=new of(this);await n.displayAds(e)}))}},{key:"restoreAds",value:function(t){const e=t??Vh(af,this),n=[];for(const t of e){const e=Vh(lf,this).call(this,t);e&&(e.hasState(sf.LOAD_REQUESTED)&&e.invalidate(!0),n.push(e))}if(md(n))return;new of(this).restoreAds(n)}},{key:"accumulateExclusionCriteria",value:function(t){if(!t)return;const{adDuplicationKeys:e,advertiserDomains:n}=t;md(e)&&md(n)||(Vh(cf,this).push(t),jh(hf,this,vf).call(this))}},{key:"clearAllExclusions",value:function(){Vh(cf,this).length=0}}])}();function vf(){if(-1!==this.maxDedupReqCount)for(;Vh(cf,this).length>Vh(uf,this);)Vh(cf,this).shift()}let pf=function(){function t(e){var n;return mc(this,t),pc(n=Wh(this,t),"adSlot",void 0),n.adSlot=e,n}return ud(t,Vl),gc(t,[{key:"createAdapterInstance",value:function(t,e,n,i,{adSlotListener:r,isPersist:s}){return Array.isArray(e.adInfo.slots)&&!n.slotEventTrackingFlags&&(n.slotEventTrackingFlags=e.adInfo.slots.map((()=>({viewableImpressed:!1,viewable1pxImpressed:!1,viewable100Impressed:!1,viewable100pImpressed:!1})))),new t({store:rf(),adUnitId:this.adSlot.getAdUnitId(),adSlotElementId:this.adSlot.getAdSlotElementId(),customParam:this.adSlot.getCustomParam(),ad:e,adExtraData:n,eventNotifier:i,adSlotListener:r,isPersist:s})}},{key:"importAdapter",value:async function(t,e){const n=window.gladsdk?.[Ah.importAdapter];"function"==typeof n&&await n(t,e)}},{key:"getThirdPartyAdapters",value:function(){const{thirdPartyAdapters:t}=rf();return t}},{key:"getAdapterClass",value:function(e){return tf.getAdapterClass(e,this.adSlot.getAdSlotElementId()),Nh(t,"getAdapterClass",this)([e])}}])}(),Ef=function(){function t({adSlot:e,adSlotListener:n,isPersist:i,...r}){var s;return mc(this,t),pc(s=Wh(this,t,[r]),"adSlot",void 0),pc(s,"adSlotListener",void 0),pc(s,"isPersist",void 0),pc(s,"adapterPicker",void 0),s.adSlot=e,s.adSlotListener=n,s.isPersist=i,s.adapterPicker=new pf(s.adSlot),s}return ud(t,Fl),gc(t,[{key:"pickAdapter",value:async function(t,e){tf.ad(t,this.adSlot.getAdSlotElementId());const n=await this.adapterPicker.pickAdapter(t,this.adExtraData,e,{adSlotListener:this.adSlotListener,isPersist:this.isPersist});return this.adSlotListener.dispatch(gh.ADAPTER_PICKED,{adapter:n}),n}},{key:"getGlobalConfig",value:function(){const{globalConfig:t}=rf();return t}},{key:"loadAd",value:function(){return this.isPersist?this.processNextAd():Nh(t,"loadAd",this)([])}},{key:"destroy",value:function(e=!1){e&&this.pickedAdapter?.fixContainerHeight(),Nh(t,"destroy",this)([])}},{key:"throwEmptyRenderError",value:function(t){throw new Hl(t,rf().emptyAdsObserver,document.getElementById(this.adSlot.getAdSlotElementId()),this.adExtraData.waterfallResponseConfig?.imp)}}])}(),gf=function(){function t(){return mc(this,t),Wh(this,t,arguments)}return ud(t,ch),gc(t,[{key:"execute",value:async function(){const e=this.httpClient.baseUrl+"/gfp/v1";tf.adCall(this.adCallParams,e,this.adCallParams.xdid);return await Nh(t,"execute",this)([])}},{key:"getAdCallParams",value:function(){return{...this.adCallParams}}}])}(),mf=function(){return gc((function t(){mc(this,t)}),null,[{key:"loadScript",value:async function(){try{if(Ud())return;const{resourceLoader:t,globalEnv:e}=rf(),{nacModuleUrl:n}=e.gfp;await t.saveAndLoad("nacModule","javascript",n)}catch(t){}}},{key:"getNCParam",value:function(){try{return localStorage.getItem("NAC")??void 0}catch(t){return""}}}])}();const yf="da_dom_id";let Af=function(){function t(e){var n;return mc(this,t),pc(n=Wh(this,t,[e.getAdUnitId(),e.getAdSlotElementId()]),"adSlot",void 0),pc(n,"adDeduplicationChunk",void 0),n.adSlot=e,n}return ud(t,dh),gc(t,[{key:"withAdDeduplicationChunk",value:function(t){return this.adDeduplicationChunk=t,this}},{key:"build",value:function(){const t=this.buildAdRequestProps();return{adRequest:new gf(t),cancelSource:t.cancelSource}}},{key:"getHttpClient",value:function(){const{globalEnv:t}=rf();return new oh(t.gfp.adCallUrl)}},{key:"getSdkInfo",value:function(){const{globalEnv:t}=rf();return{name:"web",version:t.version}}},{key:"getGlobalConfig",value:function(){const{globalConfig:t}=rf();return t}},{key:"getCustomParams",value:function(){const{customParam:t}=rf();return{...t,...this.adSlot.getCustomParam(),[yf]:this.adSlot.getAdSlotElementId()}}},{key:"getPrivacyParams",value:function(){const{privacyManager:t}=rf();return t.getPrivacyInfo()}},{key:"buildAdCallParams",value:function(){const e=Nh(t,"buildAdCallParams",this)([]),{segmentForABT:n,contentId:i,debug:r}=rf(),s=this.adDeduplicationChunk?.mergeIntoExclusionCriteria(),o=s?.advertiserDomains.map((t=>Bd(t))).join("|"),a=s?.adDuplicationKeys.map((t=>Bd(t))).join("|"),u=rf().appSDKCommunicator.getAppEnv()?.skadn,c=u?.skAdNetworkVersion??null,d=u?.skAdNetworkIds??null,l=md(c)||md(d)?0:1,h=this.getContentInfoString(),f=Bd(n??""),v=mf.getNCParam(),p={...e,ba:o,bx:a,hc:this.getApsTargetingString(),hb:this.getPbjsTargetingString(),sa:l,cti:h,nid:i,abt:f,nc:v};return r&&(p.ua=this.adSlot.ua,p.dip=this.adSlot.dip),p}},{key:"getContentInfoString",value:function(){const t=this.adSlot.getContentInfo();if(!t)return;const{sourceType:e,sourceSubType:n,sourceId:i}=t;return Bl({st:e,sst:n,si:i})}},{key:"getApsTargetingString",value:function(){const t=this.adSlot.getApsTargeting();if(!t)return;const e={amznbid:t.amznbid??"",amzniid:t.amzniid??"",amznsz:t.amznsz??"",amznp:t.amznp??"",slotID:t.slotID??""};return Bl({...e})}},{key:"getPbjsTargetingString",value:function(){const t=this.adSlot.getPbjsTargeting();if(!t)return;const e=t.reduce(((t,e)=>{const n=e.adserverTargeting;return Object.keys(t).forEach((e=>{const i=e;n[i]&&t[i].push(n[i])})),t}),{hb_pb:[],hb_format:[],hb_size:[],hb_bidder:[],hb_adid:[]});return Bl({...e})}}])}(),Sf=function(){return gc((function t({adSlot:e,adSlotListener:n}){mc(this,t),pc(this,"adSlot",void 0),pc(this,"adSlotListener",void 0),pc(this,"adExtraData",void 0),pc(this,"adMediator",void 0),pc(this,"accumulatedState",void 0),pc(this,"cancelSource",void 0),this.adSlot=e,this.adSlotListener=n,this.adExtraData={},this.accumulatedState=sf.IDLE,this.adSlotListener.addEventListener(gh.AD_LOADED,(()=>{tf.adLoaded(this.adSlot.getAdSlotElementId()),this.setState(sf.LOADED)})),this.adSlotListener.addEventListener(gh.AD_RENDERED,(()=>{tf.adRendered(this.adSlot.getAdSlotElementId())})),this.adSlotListener.addEventListener(gh.AD_CLICKED,(()=>{tf.adClicked(this.adSlot.getAdSlotElementId()),this.setState(sf.CLICKED)})),this.adSlotListener.addEventListener(gh.AD_IMPRESSED,(()=>{tf.adImpressed(this.adSlot.getAdSlotElementId()),this.setState(sf.IMPRESSED)})),this.adSlotListener.addEventListener(gh.LOAD_ERROR,(({error:t})=>{this.setState(sf.FAILED_TO_LOAD),tf.gfpError(t,this.adSlot.getAdUnitId(),this.adSlot.getAdSlotElementId())})),this.adSlotListener.addEventListener(gh.START_ERROR,(({error:t})=>{this.setState(sf.OCCURRED_ERROR),tf.gfpError(t,this.adSlot.getAdUnitId(),this.adSlot.getAdSlotElementId())}))}),[{key:"loadAd",value:async function(t){this.setState(sf.LOAD_REQUESTED),this.unobserveEmptyAdElement(),tf.loadAd(this.adSlot.getAdSlotElementId());try{const{adRequest:e,cancelSource:n}=new Af(this.adSlot).withAdDeduplicationChunk(t).build();this.cancelSource=n;const i=await e.execute();if(!i)return;const{adResponse:r,timeMap:s}=i;this.handleWaterfallResponse(r,t),await this.mediateAds(r.ads,r.eventTracking,s)}catch(t){this.handleLoadError(t)}}},{key:"loadAdWithPersistData",value:async function(t){this.setState(sf.LOAD_REQUESTED),this.unobserveEmptyAdElement(),tf.loadAdWithPersistData(this.adSlot.getAdSlotElementId());try{const{ad:e,adExtraData:n}=t,i=new Ql;if(i.set("request",Date.now()),i.set("response",Date.now()),!n.gfpEventTracking)throw new Nl(Wc.LOAD_ERROR_INVALID_PARAM,Bc.MISSING_PARAM,"gfpEventTracking is required");this.adExtraData=n,await this.mediateAds([e],n.gfpEventTracking,i,!0)}catch(t){this.handleLoadError(t)}}},{key:"loadAdWithWaterfallResponse",value:async function(t,e){this.setState(sf.LOAD_REQUESTED),this.unobserveEmptyAdElement(),tf.loadAdWithWaterfallResponse(this.adSlot.getAdSlotElementId());try{this.handleWaterfallResponse(t,e);const n=new Ql;n.set("request",Date.now()),n.set("response",Date.now()),await this.mediateAds(t.ads,t.eventTracking,n)}catch(t){this.handleLoadError(t)}}},{key:"refreshAd",value:async function(){if(!this.hasState(sf.LOAD_REQUESTED)||this.hasState(sf.LOADED))return tf.refresh(this.adSlot.getAdSlotElementId()),this.invalidate(),this.loadAd()}},{key:"setState",value:function(t){this.accumulatedState|=t}},{key:"hasState",value:function(t){return(this.accumulatedState&t)===t}},{key:"mediateAds",value:async function(t,e,n,i=!1){this.adExtraData.gfpEventTracking=e,this.adMediator=new Ef({adSlot:this.adSlot,adSlotListener:this.adSlotListener,ads:t,adExtraData:this.adExtraData,eventTracking:e,timeMap:n,isPersist:i}),await this.adMediator.loadAd()}},{key:"unobserveEmptyAdElement",value:function(){const t=document.getElementById(this.adSlot.getAdSlotElementId());t&&rf().emptyAdsObserver.unobserve(t)}},{key:"handleWaterfallResponse",value:function(t,e){if(this.adExtraData.randomNumber=t.randomNumber,this.adExtraData.waterfallResponseConfig=t.config,e){const{adDuplicationKeys:n=[],advertiserDomains:i=[]}=t;e.accumulateExclusionCriteria({adDuplicationKeys:n,advertiserDomains:i})}rf().extensionBridge.sendWaterfallResponse(t),t.skadnt&&this.registerSkadnToken(t.skadnt)}},{key:"registerSkadnToken",value:function(t){try{const{appSDKCommunicator:e,globalEnv:n}=rf(),{skadn:i,appVersion:r}=e.getAppEnv()||{};if(i&&r){const{skAdNetworkIds:e,skAdNetworkVersion:s}=i,o={av:r,skadn:{sav:(Array.isArray(s)?s.join(","):s)||"",sai:(Array.isArray(e)?e:e.split(","))||[]}};rf().neloLogger.logMethodFrequently({method:`AdSlotManager.registerSkadnToken(${t})`,sampleRate:1}),fetch(`${n.gfp.adCallUrl}/registSkAdn/${t}`,{method:"POST",body:JSON.stringify(o)})}}catch(t){}}},{key:"handleLoadError",value:function(t){t instanceof Error&&tf.error(t);const e=Nl.fromError(t,Wc.INTERNAL_ERROR,Bc.UNSPECIFIED);this.adSlotListener.dispatch(gh.LOAD_ERROR,{error:e})}},{key:"invalidate",value:function(t=!1){this.accumulatedState=sf.IDLE,this.cancelSource?.cancel(),this.adExtraData={},this.adMediator?.destroy(t)}},{key:"destroy",value:function(){tf.destroy(this.adSlot.getAdSlotElementId()),this.setState(sf.DESTROYED),this.cancelSource?.cancel(),this.adSlotListener.destroy(),this.adMediator?.destroy()}}])}();var Rf=new WeakMap;let If=function(){return gc((function t(e){mc(this,t),Fh(this,Rf,void 0),Hh(Rf,this,e)}),[{key:"onLoadAdm",value:function(){Vh(Rf,this).onLoadAdm()}},{key:"addCallback",value:function(t){Vh(Rf,this).addCallback(t)}},{key:"exposureChangeSetting",value:function(t){Vh(Rf,this).exposureChangeSetting(t)}},{key:"notifyAdMeta",value:function(t){Vh(Rf,this).creativeMetaChanged(t)}}])}();var Df=new WeakMap,Tf=new WeakMap,kf=new WeakMap,bf=new WeakMap,_f=new WeakMap,wf=new WeakMap,Lf=new WeakMap,Of=new WeakMap;let Cf=function(){return gc((function t({adUnitId:e,adSlotElementId:n,adSlotBridge:i,customParam:r,contentInfo:s}){mc(this,t),Fh(this,Df,void 0),Fh(this,Tf,void 0),Fh(this,kf,void 0),Fh(this,bf,void 0),Fh(this,_f,void 0),Fh(this,wf,void 0),Fh(this,Lf,void 0),Fh(this,Of,void 0),pc(this,"ua",void 0),pc(this,"dip",void 0),Hh(Df,this,e),Hh(Tf,this,n),Hh(kf,this,i),Hh(wf,this,new If(i)),r&&Hh(bf,this,$d(r)),s&&Hh(_f,this,$d(s))}),[{key:"getAdUnitId",value:function(){return Vh(Df,this)}},{key:"getAdSlotElementId",value:function(){return Vh(Tf,this)}},{key:"getCustomParam",value:function(){return Vh(bf,this)}},{key:"getContentInfo",value:function(){return Vh(_f,this)}},{key:"getAdProviderName",value:function(){return Vh(kf,this).getAdProviderName()}},{key:"getCreativeType",value:function(){return Vh(kf,this).getCreativeType()}},{key:"getNativeAdVisualId",value:function(){return rf().neloLogger.logMethodUniquely({method:"AdSlotImpl.getNativeAdVisualId",stace:(new Error).stack}),Vh(kf,this).getNativeAdVisualId()}},{key:"getVideoController",value:function(){return rf().neloLogger.logMethodUniquely({method:"AdSlotImpl.getVideoController",stace:(new Error).stack}),Vh(kf,this).getVideoController()}},{key:"getNdaAPI",value:function(){return rf().neloLogger.logMethodUniquely({method:"AdSlotImpl.getNdaAPI",stace:(new Error).stack}),Vh(wf,this)}},{key:"setCustomParam",value:function(t,e){Hh(bf,this,Object.assign({},Vh(bf,this),{[t]:e}))}},{key:"setApsBidTargeting",value:function(t){rf().neloLogger.logMethodUniquely({method:"AdSlotImpl.setApsBidTargeting",stace:(new Error).stack}),md(t)||(tf.apsBid(t,this.getAdSlotElementId()),Hh(Lf,this,t))}},{key:"getApsTargeting",value:function(){return rf().neloLogger.logMethodUniquely({method:"AdSlotImpl.getApsTargeting",stace:(new Error).stack}),Vh(Lf,this)}},{key:"setPbjsBidTargeting",value:function(t){rf().neloLogger.logMethodUniquely({method:"AdSlotImpl.setPbjsBidTargeting",stace:(new Error).stack}),md(t)||(tf.pbjsBid(t,this.getAdSlotElementId()),Hh(Of,this,[...t]))}},{key:"getPbjsTargeting",value:function(){return rf().neloLogger.logMethodUniquely({method:"AdSlotImpl.getPbjsTargeting",stace:(new Error).stack}),Vh(Of,this)}},{key:"setClickHandler",value:function(t){rf().neloLogger.logMethodUniquely({method:"AdSlotImpl.setClickHandler",stace:(new Error).stack}),Vh(kf,this).setClickHandler(t)}},{key:"setNativeClickHandler",value:function(t){rf().neloLogger.logMethodUniquely({method:"AdSlotImpl.setNativeClickHandler",stace:(new Error).stack}),this.setClickHandler(t)}},{key:"setHostMeta",value:function(t,e){!md(e)&&["number","string","object","boolean"].includes(typeof e)&&(tf.hostMeta(t,e,this.getAdSlotElementId()),Vh(kf,this).setHostMeta(t,e))}},{key:"setRenderConfig",value:function(t){Vh(kf,this).setRenderConfig(t)}},{key:"setForceSafeFrame",value:function(t){Vh(kf,this).setForceSafeFrame(t)}},{key:"initEvent",value:function(){rf().neloLogger.logMethodUniquely({method:"AdSlotImpl.initEvent",stace:(new Error).stack}),Vh(kf,this).initEvent()}},{key:"clearVisibilityObserver",value:function(){rf().neloLogger.logMethodUniquely({method:"AdSlotImpl.clearVisibilityObserver",stace:(new Error).stack}),Vh(kf,this).clearVisibilityObserver()}},{key:"destroy",value:function(){rf().neloLogger.logMethodUniquely({method:"AdSlotImpl.destroy",stace:(new Error).stack})}}])}(),Mf=function(){return gc((function t(){mc(this,t)}),null,[{key:"initBounceBackEvent",value:function(){document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&this.fireBounceBackEvent()})),window.addEventListener("pageshow",(()=>{pl()&&this.fireBounceBackEvent()}))}},{key:"fireBounceBackEvent",value:function(){const{persistenceStore:t}=rf(),e=t.getBounceBackMeta();if(!e)return;const{bounceUrls:n,timestamp:i}=e;if(md(n))return;const r=Number(new Date)-i;n.forEach((t=>{wl.reportEvent(t,void 0,{bbt:r})})),t.clearBounceBackMeta()}}])}(),Pf=function(){return gc((function t({adSlotListener:e}){mc(this,t),pc(this,"adSlotListener",void 0),pc(this,"cmd",void 0),pc(this,"pickedAdapterRef",void 0),pc(this,"hostMeta",void 0),pc(this,"forceSafeFrame",void 0),pc(this,"renderConfig",void 0),pc(this,"clickHandler",void 0),this.adSlotListener=e,this.cmd=new fl;const{hostMeta:n,forceSafeFrame:i}=rf();this.hostMeta=new Map(n),this.forceSafeFrame=i,e.addEventListener(gh.ADAPTER_PICKED,(({adapter:t})=>{this.setPickedAdapter(t)}))}),[{key:"getSize",value:function(){return this.pickedAdapter?.getSize()}},{key:"getAdContext",value:function(){return this.pickedAdapter?.getAdContext()}},{key:"getAdProviderName",value:function(){return this.pickedAdapter?.getAdProviderName()}},{key:"getCreativeType",value:function(){return this.pickedAdapter?.getCreativeType()}},{key:"getNativeAdVisualId",value:function(){return this.pickedAdapter?.getNativeAdVisualId()}},{key:"getVideoController",value:function(){return new Promise(((t,e)=>{this.cmd.push((()=>{const n=this.pickedAdapter??{};if("getVideoController"in n&&"function"==typeof n.getVideoController){const e=n.getVideoController();e&&t(e)}e()}))}))}},{key:"setHostMeta",value:function(t,e){this.hostMeta.set(t,e);const n=this.pickedAdapter??{};"setHostMeta"in n&&"function"==typeof n.setHostMeta&&n.setHostMeta(this.hostMeta)}},{key:"setRenderConfig",value:function(t){this.renderConfig=t,this.pickedAdapter?.setRenderConfig(t)}},{key:"setForceSafeFrame",value:function(t){this.forceSafeFrame=t;const e=this.pickedAdapter??{};"setForceSafeFrame"in e&&"function"==typeof e.setForceSafeFrame&&e.setForceSafeFrame(t)}},{key:"setClickHandler",value:function(t){this.clickHandler=t,this.pickedAdapter?.setClickHandler(t)}},{key:"initEvent",value:function(){this.cmd.push((()=>{const t=this.pickedAdapter??{};"initEvent"in t&&"function"==typeof t.initEvent&&t.initEvent()}))}},{key:"onLoadAdm",value:function(){this.cmd.push((()=>{const t=this.pickedAdapter??{};"onLoadAdm"in t&&"function"==typeof t.onLoadAdm&&t.onLoadAdm()}))}},{key:"addCallback",value:function(t){this.cmd.push((()=>{const e=this.pickedAdapter??{};"addCallback"in e&&"function"==typeof e.addCallback&&e.addCallback(t)}))}},{key:"exposureChangeSetting",value:function(t){this.cmd.push((()=>{const e=this.pickedAdapter??{};"exposureChangeSetting"in e&&"function"==typeof e.exposureChangeSetting&&e.exposureChangeSetting(t)}))}},{key:"creativeMetaChanged",value:function(t){this.adSlotListener.dispatch(gh.CREATIVE_META_CHANGED,{creativeMeta:t})}},{key:"clearVisibilityObserver",value:function(){this.cmd.push((()=>{const t=this.pickedAdapter;t?.clearVisibilityObserver()}))}},{key:"pickedAdapter",get:function(){return this.pickedAdapterRef?.deref()}},{key:"setPickedAdapter",value:function(t){this.pickedAdapterRef=new WeakRef(t),"setHostMeta"in t&&"function"==typeof t.setHostMeta&&t.setHostMeta(this.hostMeta),"setRenderConfig"in t&&"function"==typeof t.setRenderConfig&&t.setRenderConfig(this.renderConfig),"setForceSafeFrame"in t&&"function"==typeof t.setForceSafeFrame&&t.setForceSafeFrame(this.forceSafeFrame),"setClickHandler"in t&&"function"==typeof t.setClickHandler&&t.setClickHandler(this.clickHandler),this.cmd.forceExecuteCommands()}}])}();var Nf;!function(t){t.AD_LOADED="AD_LOADED",t.AD_RENDERED="AD_RENDERED",t.AD_CLICKED="AD_CLICKED",t.AD_IMPRESSED="AD_IMPRESSED",t.AD_MUTE_COMPLETED="AD_MUTE_COMPLETED",t.AD_MUTE_STATE_CHANGED="AD_MUTE_STATE_CHANGED",t.AD_META_CHANGED="AD_META_CHANGED",t.CREATIVE_META_CHANGED="CREATIVE_META_CHANGED",t.ERROR="ERROR",t.EMPTY="EMPTY"}(Nf||(Nf={}));let Uf=function(){function t(){return mc(this,t),Wh(this,t,arguments)}return ud(t,ul),gc(t,[{key:"dispatch",value:function(t,...e){const n=this.eventHandlers[t];n&&n.forEach((t=>{try{t(...e)}catch(t){}}))}}])}();var Ff=new WeakMap,xf=new WeakMap,Vf=new WeakMap,Hf=new WeakMap,jf=new WeakMap,Wf=new WeakMap,Bf=new WeakSet;let Gf=function(){return gc((function t(){mc(this,t),Uh(this,Bf),Fh(this,Ff,void 0),Fh(this,xf,void 0),Fh(this,Vf,void 0),Fh(this,Hf,void 0),Fh(this,jf,void 0),Fh(this,Wf,new WeakMap),mf.loadScript(),Mf.initBounceBackEvent(),Hh(Ff,this,rf()),Hh(xf,this,[]),Hh(Vf,this,new WeakMap),Hh(Hf,this,new Map),Hh(jf,this,new Uf)}),[{key:"getPhase",value:function(){return Vh(Ff,this).phase}},{key:"setPhase",value:function(t){Vh(Ff,this).setPhase(t)}},{key:"getVersion",value:function(){return Vh(Ff,this).globalEnv.version}},{key:"getGlobalConfig",value:function(){const t=Vh(Ff,this).globalConfig;return{...t,phase:this.getPhase(),debug:Vh(Ff,this).debug,activateIframeTouch:t.activateIframeEvent?.touch}}},{key:"setGlobalConfig",value:function(t){const{phase:e,debug:n,activateIframeTouch:i,...r}=t;md(e)||(Vh(Ff,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setGlobalConfig(phase)",stace:(new Error)?.stack}),this.setPhase(e)),md(n)||(Vh(Ff,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setGlobalConfig(debug)",stace:(new Error)?.stack}),this.setPhase(this.getPhase())),md(i)||(Vh(Ff,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setGlobalConfig(activateIframeTouch)",stace:(new Error)?.stack}),r.activateIframeEvent=Object.assign({},r.activateIframeEvent,{touch:i})),Vh(Ff,this).setGlobalConfig(r),tf.globalConfig(t)}},{key:"getAdCallQuery",value:function(t){let e=null,n=!1;t.adSlotElementId&&(e=jh(Bf,this,Kf).call(this,t.adSlotElementId)),e||(e=this.defineAdSlot(t),n=!0);const{adRequest:i}=new Af(e).build(),r={...i.getAdCallParams(),en:1};return n&&this.destroyAdSlots([e]),Gl(r)}},{key:"defineAdSlot",value:function(t){const{adUnitId:e,customParam:n,contentInfo:i}=t;let r=t.adSlotElementId;if(r){const t=this.findAdSlot(r);if(t)return t}else{const t=Vh(xf,this).filter((t=>t.getAdUnitId()===e));r=`gfp_ad_${e}_${t.length+1}`}const s={};["ai","iv","yob","gender","uct","uid"].forEach((e=>{md(t[e])||(s[e]=t[e])})),this.setGlobalConfig(s);const o=new mh,a=new Pf({adSlotListener:o}),u=new Cf({adUnitId:e,adSlotElementId:r,customParam:n,contentInfo:i,adSlotBridge:a}),c=new Sf({adSlot:u,adSlotListener:o});function d(t){const e=a.getAdContext(),{slotIndex:n,...i}=t||{},r={ad:{slot:u,size:a.getSize()},...i};return md(e)||(r.ad.adContext=e,md(n)||(r.ad.slotIndex=n)),r}return Vh(xf,this).push(u),Vh(Vf,this).set(u,c),o.addEventListener(gh.AD_LOADED,(()=>{Vh(jf,this).dispatch(Nf.AD_LOADED,d())})),o.addEventListener(gh.AD_RENDERED,(()=>{Vh(jf,this).dispatch(Nf.AD_RENDERED,d())})),o.addEventListener(gh.AD_CLICKED,(t=>{Vh(jf,this).dispatch(Nf.AD_CLICKED,d(t))})),o.addEventListener(gh.AD_IMPRESSED,(()=>{Vh(jf,this).dispatch(Nf.AD_IMPRESSED,d())})),o.addEventListener(gh.AD_MUTE_COMPLETED,(()=>{Vh(jf,this).dispatch(Nf.AD_MUTE_COMPLETED,d())})),o.addEventListener(gh.AD_MUTE_STATE_CHANGED,(t=>{Vh(jf,this).dispatch(Nf.AD_MUTE_STATE_CHANGED,d(t))})),o.addEventListener(gh.CREATIVE_META_CHANGED,(t=>{Vh(jf,this).dispatch(Nf.AD_META_CHANGED,d(t)),Vh(jf,this).dispatch(Nf.CREATIVE_META_CHANGED,d(t))})),o.addEventListener(gh.LOAD_ERROR,(t=>{Vh(jf,this).dispatch(Nf.ERROR,d(t)),t.error instanceof Hl&&Vh(jf,this).dispatch(Nf.EMPTY,d(t))})),o.addEventListener(gh.START_ERROR,(t=>{Vh(jf,this).dispatch(Nf.ERROR,d(t))})),tf.defineAdSlot(t),u}},{key:"hasAdSlot",value:function(t){return null!==this.findAdSlot(t)}},{key:"findAdSlot",value:function(t){return jh(Bf,this,Kf).call(this,t)}},{key:"refreshAdSlots",value:function(t){const e=jh(Bf,this,qf).call(this,t);for(const t of e){const e=Vh(Vf,this).get(t);e?.refreshAd()}tf.refreshAdSlots(e.map((t=>t.getAdSlotElementId())))}},{key:"destroyAdSlots",value:function(t){const e=jh(Bf,this,qf).call(this,t);for(const t of e)Hh(xf,this,Vh(xf,this).filter((e=>{if(t===e){const t=Vh(Vf,this).get(e);return t?.destroy(),Vh(Vf,this).delete(e),!1}return!0})));tf.destroyAdSlots(e.map((t=>t.getAdSlotElementId())))}},{key:"displayAd",value:function(t){const e=jh(Bf,this,Kf).call(this,t);if(!e)return;tf.displayAd(e.getAdUnitId(),e.getAdSlotElementId());const n=Vh(Vf,this).get(e);if(!n)return;if(n.hasState(sf.LOAD_REQUESTED))return;const{enablePersistAd:i}=this.getGlobalConfig();if(i){const{persistenceStore:t}=rf(),i=e.getAdSlotElementId(),r=t.getAd(`${Gd()}_${i}`);if(r&&pl()&&document.getElementById(i))return void n.loadAdWithPersistData(r)}n.loadAd()}},{key:"displayAdWithResponse",value:function(t,e,n){const i=jh(Bf,this,Kf).call(this,t);let r;if(n){const t=this.findAdDedupManager(n);t instanceof ff&&(r=new of(t))}if(!i)return;const s=Vh(Vf,this).get(i);s&&(s.hasState(sf.LOAD_REQUESTED)||s.loadAdWithWaterfallResponse(e,r))}},{key:"setMediationList",value:function(t,e){Vh(Ff,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setMediationList()",stace:(new Error)?.stack});const{adDivId:n}=t;this.displayAdWithResponse(String(n),t,e)}},{key:"setAdDeduplication",value:function(t,e){Vh(Ff,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setAdDeduplication()",stace:(new Error)?.stack});let n=this.findAdDedupManager(t);return n instanceof ff?(n.maxDedupReqCount=e??Vh(Ff,this).globalConfig.maxDedupReqCount,n.clearAllExclusions()):(n=new ff({dedupReqId:t,maxDedupReqCount:e,getAdSlotManager:t=>Vh(Vf,this).get(t)??null}),Vh(Hf,this).set(t,n)),tf.setAdDeduplication(t,e),n}},{key:"findAdDedupManager",value:function(t){return Vh(Ff,this).neloLogger.logMethodUniquely({method:"GfpDisplay.findAdDedupManager()",stace:(new Error)?.stack}),Vh(Hf,this).get(t)??null}},{key:"clearAdDeduplication",value:function(t){Vh(Ff,this).neloLogger.logMethodUniquely({method:"GfpDisplay.clearAdDeduplication()",stace:(new Error)?.stack});const e=this.findAdDedupManager(t);e instanceof ff&&e.clearAllExclusions(),Vh(Hf,this).delete(t)}},{key:"setHostMeta",value:function(t,e){Vh(Ff,this).hostMeta.set(t,e),Vh(xf,this).forEach((n=>n.setHostMeta(t,e))),tf.setHostMeta(t,e)}},{key:"setForceSafeFrame",value:function(t){Vh(Ff,this).setForceSafeFrame(t),Vh(xf,this).forEach((e=>e.setForceSafeFrame(t)))}},{key:"setCustomParam",value:function(t,e){Vh(Ff,this).setCustomParam(t,e)}},{key:"setPrivacySettings",value:function(t){Vh(Ff,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setPrivacySettings()",stace:(new Error)?.stack}),Vh(Ff,this).setPrivacySettings(t)}},{key:"setSegmentForABT",value:function(t){Vh(Ff,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setSegmentForABT()",stace:(new Error)?.stack}),Vh(Ff,this).setSegmentForABT(t)}},{key:"setContentId",value:function(t){Vh(Ff,this).neloLogger.logMethodUniquely({method:"GfpDisplay.setContentId()",stace:(new Error)?.stack}),Vh(Ff,this).setContentId(t)}},{key:"addEventListener",value:function(t,e){let n;switch(t){case Nf.AD_MUTE_STATE_CHANGED:n=Vh(jf,this).addEventListener(Nf.AD_MUTE_STATE_CHANGED,(t=>{e(t.ad,t.state)}));break;case Nf.AD_META_CHANGED:case Nf.CREATIVE_META_CHANGED:t===Nf.AD_META_CHANGED&&Vh(Ff,this).neloLogger.logMethodUniquely({method:"GfpDisplay.addEventListener(DisplayAdEvent.AD_META_CHANGED)",stace:(new Error)?.stack}),n=Vh(jf,this).addEventListener(t,(t=>{e(t.ad,t.creativeMeta)}));break;case Nf.ERROR:case Nf.EMPTY:n=Vh(jf,this).addEventListener(Nf.ERROR,(t=>{e(t.ad,t.error)}));break;case Nf.AD_LOADED:case Nf.AD_RENDERED:case Nf.AD_CLICKED:case Nf.AD_IMPRESSED:case Nf.AD_MUTE_COMPLETED:n=Vh(jf,this).addEventListener(t,(t=>{e(t.ad)}));break;default:return}Vh(Wf,this).set(e,n)}},{key:"removeEventListener",value:function(t,e){const n=Vh(Wf,this).get(e);n&&(n(),Vh(Wf,this).delete(e))}},{key:"removeAllEventListener",value:function(){return Vh(jf,this).removeAllListeners()}},{key:"clearActiveViews",value:function(){Vh(Ff,this).neloLogger.logMethodUniquely({method:"GfpDisplay.clearActiveViews()",stace:(new Error)?.stack}),Vh(xf,this).forEach((t=>{t.clearVisibilityObserver();const e=document.getElementById(t.getAdSlotElementId());e&&Vh(Ff,this).emptyAdsObserver.unobserve(e)}))}},{key:"addThirdPartyAdapter",value:function(t){Vh(Ff,this).addThirdPartyAdapter(t)}},{key:"addLogger",value:function(t){return Zh.addLogger(t)}},{key:"startExtensionBridge",value:function(){Vh(Ff,this).extensionBridge.tryHandshake()}}])}();function qf(t){return t?t.reduce(((t,e)=>(e instanceof Cf&&Vh(xf,this).includes(e)&&t.push(e),t)),[]):Vh(xf,this)}function Kf(t){if(t instanceof Cf)return t;const e=t instanceof HTMLElement?t.id:t;return Vh(xf,this).find((t=>t.getAdSlotElementId()===e))??null}class $f extends Gf{cmd;event=Nf;constructor(t){super(),window.gladsdk=this,this.cmd=new hl(t)}[Ah.importAdapter]=async t=>{switch(t){case Jc.NDA_BANNER_NDP:{const{ndpBannerAdapter:t}=await import("./gfp-display-nda.js");this.addThirdPartyAdapter(t);break}case Jc.NDA_BANNER_SF:{const{sfBannerAdapter:t}=await import("./gfp-display-nda.js");this.addThirdPartyAdapter(t);break}case Jc.NDA_BANNER_JS:{const{jsBannerAdapter:t}=await import("./gfp-display-nda.js");this.addThirdPartyAdapter(t);break}case Jc.NATIVE_SIMPLE:case Jc.NATIVE_NORMAL:case Jc.NATIVE_COMPOSITE:{const{ndaNativeAdapter:t}=await import("./gfp-display-nda.js");this.addThirdPartyAdapter(t);break}case Jc.GOOGLE_BANNER:{const{gptBannerAdapter:t}=await import("./gfp-display-gpt.js");this.addThirdPartyAdapter(t);break}case Jc.TEADS_BANNER:{const{teadsBannerAdapter:t}=await import("./gfp-display-teads.js");this.addThirdPartyAdapter(t);break}}};async loadSentry(t={}){const{DisplaySentryLogger:e}=await import("./gfp-display-sentry-logger.js"),n=this.addLogger(e),i=["sampleRate"].reduce(((e,n)=>void 0!==t[n]&&null!==t[n]?{...e,[n]:t[n]}:e),{});await n.loadSentry(i)}async startDevtools(t){const{DisplayDevtoolsLogger:e}=await import("./gfp-display-devtools-logger.js");this.addLogger(e).startDevtools(t)}}const zf=window.gladsdk??{cmd:[]};if(!(zf instanceof $f)){new $f(zf.cmd)}export{Uc as A,Ih as B,Vc as C,Hc as E,Nl as G,uh as J,$c as M,Dh as N,Jc as R,Mh as V,ud as _,gc as a,Wc as b,Bc as c,qd as d,gh as e,Yd as f,nl as g,mc as h,md as i,pc as j,vl as k,sd as l,or as m,sr as n,fl as o,hh as p,ul as q,yc as r,zd as s,fh as t,Gc as u,Ed as v,$l as w,Fc as x};
//# sourceMappingURL=gfp-display-sdk.js.map
